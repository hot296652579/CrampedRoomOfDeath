System.register("chunks:///_virtual/AirDeathSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){i=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"8ee7dkwaUBFzIrBAdqfmG6L","AirDeathSubStateMachine",void 0);var s="texture/player/airdeath/",u="/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,s+"top"+u)),n.stateMachine.set(a.BOTTOM,new c(e,s+"bottom"+u)),n.stateMachine.set(a.LEFT,new c(e,s+"left"+u)),n.stateMachine.set(a.RIGHT,new c(e,s+"right"+u)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var a,e,n,c,r,i,o;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,n=t.AnimationClip},function(t){c=t.DIRECTION_ENUM,r=t.SHAKE_TYPE_ENUM},function(t){i=t.default},function(t){o=t.default}],execute:function(){e._RF.push({},"ff7dfD/5ENMapi/ZzfbBLkz","AttackSubStateMachine",void 0);var s="texture/player/attack/",u="/attack";t("default",function(t){function e(a){var e;return(e=t.call(this,a)||this).stateMachine.set(c.TOP,new o(a,s+"top"+u,n.WrapMode.Normal,[{frame:.1,func:"onAttackShake",params:[r.TOP]}])),e.stateMachine.set(c.BOTTOM,new o(a,s+"bottom"+u,n.WrapMode.Normal,[{frame:.1,func:"onAttackShake",params:[r.BOTTOM]}])),e.stateMachine.set(c.LEFT,new o(a,s+"left"+u,n.WrapMode.Normal,[{frame:.1,func:"onAttackShake",params:[r.LEFT]}])),e.stateMachine.set(c.RIGHT,new o(a,s+"right"+u,n.WrapMode.Normal,[{frame:.1,func:"onAttackShake",params:[r.RIGHT]}])),e}return a(e,t),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/AttackWoondenSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,a,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){c=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"0e5dbbu1UhOdqFvCe5v3oz5","AttackWoondenSubStateMachine",void 0);var o="texture/woodenskeleton/attack/",s="/attack";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new i(e,o+"top"+s)),n.stateMachine.set(a.BOTTOM,new i(e,o+"bottom"+s)),n.stateMachine.set(a.LEFT,new i(e,o+"left"+s)),n.stateMachine.set(a.RIGHT,new i(e,o+"right"+s)),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var i,u,e,t,n,c,r;return{setters:[function(o){i=o.createClass},function(o){u=o.cclegacy,e=o.AudioClip,t=o.resources,n=o.Node,c=o.director,r=o.AudioSource}],execute:function(){u._RF.push({},"0aad1Dml7VPVYjSjWCdkZGS","AudioMgr",void 0),o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new n;o.name="__audioMgr__",c.getScene().addChild(o),c.addPersistRootNode(o),this._audioSource=o.addComponent(r)}var u=o.prototype;return u.playOneShot=function(o,i){var u=this;void 0===i&&(i=1),o instanceof e?this._audioSource.playOneShot(o,i):t.load(o,(function(o,e){o?console.log(o):u._audioSource.playOneShot(e,i)}))},u.play=function(o,i,u){var n=this;void 0===i&&(i=1),void 0===u&&(u=!1),o instanceof e?(this._audioSource.clip=o,this._audioSource.play(),this._audioSource.loop=u,this.audioSource.volume=i):t.load(o,(function(o,e){o?console.log(o):(n._audioSource.clip=e,n._audioSource.loop=u,n._audioSource.play(),n.audioSource.volume=i)}))},u.stop=function(){this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/BlockFrontSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,c,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.DIRECTION_ENUM},function(t){i=t.default},function(t){o=t.default}],execute:function(){n._RF.push({},"9ac3dEr0clFYIHPZlFuvjMn","BlockFrontSubStateMachine",void 0);var a="texture/player/blockfront/",u="/blockfront";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new o(e,a+"top"+u)),n.stateMachine.set(c.BOTTOM,new o(e,a+"bottom"+u)),n.stateMachine.set(c.LEFT,new o(e,a+"left"+u)),n.stateMachine.set(c.RIGHT,new o(e,a+"right"+u)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,c,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.DIRECTION_ENUM},function(t){i=t.default},function(t){a=t.default}],execute:function(){n._RF.push({},"590bblc2FRMHLgRKgRjLwYZ","BlockLeftSubStateMachine",void 0);var s="texture/player/blockleft/",u="/blockleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new a(e,s+"top"+u)),n.stateMachine.set(c.BOTTOM,new a(e,s+"bottom"+u)),n.stateMachine.set(c.LEFT,new a(e,s+"left"+u)),n.stateMachine.set(c.RIGHT,new a(e,s+"right"+u)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,i,c,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){c=t.default},function(t){a=t.default}],execute:function(){n._RF.push({},"f8d7e4n6SdDCLrTjeStlOVI","BlockRightSubStateMachine",void 0);var s="texture/player/blockright/",u="/blockright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new a(e,s+"top"+u)),n.stateMachine.set(i.BOTTOM,new a(e,s+"bottom"+u)),n.stateMachine.set(i.LEFT,new a(e,s+"left"+u)),n.stateMachine.set(i.RIGHT,new a(e,s+"right"+u)),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockTurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,c,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.DIRECTION_ENUM},function(t){i=t.default},function(t){u=t.default}],execute:function(){n._RF.push({},"e91c7Uk1+ZFjIOPWx3tL/iq","BlockTurnLeftSubStateMachine",void 0);var a="texture/player/blockturnleft/",s="/blockturnleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(c.TOP,new u(e,a+"top"+s)),n.stateMachine.set(c.BOTTOM,new u(e,a+"bottom"+s)),n.stateMachine.set(c.LEFT,new u(e,a+"left"+s)),n.stateMachine.set(c.RIGHT,new u(e,a+"right"+s)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockTurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,i,c,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){c=t.default},function(t){u=t.default}],execute:function(){n._RF.push({},"0827fjoiQBF0pvpydqhLCIY","BlockTurnRightSubStateMachine",void 0);var r="texture/player/blockturnright/",a="/blockturnright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new u(e,r+"top"+a)),n.stateMachine.set(i.BOTTOM,new u(e,r+"bottom"+a)),n.stateMachine.set(i.LEFT,new u(e,r+"left"+a)),n.stateMachine.set(i.RIGHT,new u(e,r+"right"+a)),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BottomControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EventMgr.ts"],(function(t){"use strict";var o,n,e,r,c,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,r=t.Component},function(t){c=t.ENUM_EVENT},function(t){i=t.default}],execute:function(){var u;n._RF.push({},"a90eeDXJ0pOzJLKgu1yGB/M","BottomControl",void 0);var s=e.ccclass;e.property,t("BottomControl",s("BottomControl")(u=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var e=n.prototype;return e.handlerNextLevelClick=function(){},e.handlerClickDirection=function(t,o){i.Instance.emit(c.ENUM_MOVE_PLAYER,o)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/BurstMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EnitiyMgr.ts","./EventMgr.ts","./DataManager.ts","./TileManager.ts","./BurstStateMachine.ts"],(function(t){"use strict";var n,i,s,e,o,r,a,c,u,E,h,f,p;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator},function(t){s=t.cclegacy,e=t._decorator,o=t.UITransform},function(t){r=t.ENTITY_STATE_ENUM,a=t.ENUM_EVENT},function(t){c=t.EnitiyMgr},function(t){u=t.default},function(t){E=t.default},function(t){h=t.TILE_WIDTH,f=t.TILE_HEIGHT},function(t){p=t.BurstStateMachine}],execute:function(){var M;s._RF.push({},"de89aGDa7NLqpaYUBjYYf+V","BurstMgr",void 0);t("MOVE_SPEED",.1);var T=e.ccclass;e.property,t("BurstMgr",T("BurstMgr")(M=function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var e=s.prototype;return e.init=function(){var n=i((function*(n){this.fsm=this.addComponent(p),yield this.fsm.init(),t.prototype.init.call(this,n),this.node.getComponent(o).setContentSize(h,f)}));return function(t){return n.apply(this,arguments)}}(),e.onAttack=function(){var t=E.Instance.playerInfo,n=t.x,i=t.y;n==this.x&&i==this.y&&this.state===r.IDLE?this.state=r.ATTACK:this.state===r.ATTACK&&(this.state=r.DEATH,this.x===n&&this.y===i&&(u.Instance.emit(a.ENUM_ATTACK_PLAYER,r.AIRDEATH),console.log("陷阱攻击敌人")))},e.update=function(){this.node.setPosition(this.x*h,-this.y*f)},e.onLoad=function(){u.Instance.addEventListen(a.ENUM_MOVE_END,this.onAttack,this)},e.onDestry=function(){u.Instance.unEventListen(a.ENUM_MOVE_END,this.onAttack)},s}(c))||M);s._RF.pop()}}}));

System.register("chunks:///_virtual/BurstStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./SateMachine.ts","./State.ts"],(function(t){"use strict";var e,a,i,s,n,r,h,c,u;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator},function(t){i=t.cclegacy,s=t._decorator,n=t.Animation},function(t){r=t.PARAMS_NAME_TYPE},function(t){h=t.getParamsInitTrigger,c=t.StateMachine},function(t){u=t.default}],execute:function(){var o;i._RF.push({},"dd511eyCjxB0Lnaj3GJ3Qpe","BurstStateMachine",void 0);var M="texture/burst/",l=s.ccclass;s.property,t("BurstStateMachine",l("BurstStateMachine")(o=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.init=function(){var t=a((function*(){this.animationCom=this.addComponent(n),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),s.initParams=function(){this.params.set(r.IDLE,h()),this.params.set(r.ATTACK,h()),this.params.set(r.DEATH,h())},s.initSateMachine=function(){this.stateMachine.set(r.IDLE,new u(this,M+"idle/idle")),this.stateMachine.set(r.ATTACK,new u(this,M+"attack/idle")),this.stateMachine.set(r.DEATH,new u(this,M+"death/idle"))},s.addAnimationEvent=function(){},s.run=function(){switch(this.currentSate){case this.stateMachine.get(r.TURNLEFT):case this.stateMachine.get(r.BLOCKFRONT):case this.stateMachine.get(r.BLOCKTURNLEFT):case this.stateMachine.get(r.ATTACK):this.params.get(r.IDLE).value?this.currentSate=this.stateMachine.get(r.IDLE):this.params.get(r.DEATH).value&&(this.currentSate=this.stateMachine.get(r.DEATH));break;case this.stateMachine.get(r.IDLE):this.params.get(r.IDLE).value?this.currentSate=this.stateMachine.get(r.IDLE):this.params.get(r.DEATH).value?this.currentSate=this.stateMachine.get(r.DEATH):this.params.get(r.ATTACK).value?this.currentSate=this.stateMachine.get(r.ATTACK):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(r.IDLE)}},i}(c))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){"use strict";var n,e,o,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy},function(t){s=t.default}],execute:function(){o._RF.push({},"622c647WehL+bHAcmb7t6pG","DataManager",void 0);t("default",function(t){function o(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).mapInfo=void 0,n.tileMgrInfo=void 0,n.mapRowCount=0,n.mapColumCount=0,n.levelIndex=1,n.playerInfo=null,n.doorInfo=null,n.enemies=void 0,n.bursts=void 0,n.spikes=void 0,n.smokes=void 0,n.records=[],n}return n(o,t),o.prototype.reset=function(){this.mapInfo=[],this.tileMgrInfo=[],this.playerInfo=null,this.doorInfo=null,this.enemies=[],this.bursts=[],this.spikes=[],this.smokes=[],this.mapRowCount=0,this.mapColumCount=0},e(o,null,[{key:"Instance",get:function(){return t.getInstance.call(this)}}]),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/DeathIronSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,i,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){a=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"b250cWV2wpMZrc+Y5UyNtpu","DeathIronSubStateMachine",void 0);var s="texture/ironskeleton/death/",u="/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new c(e,s+"top"+u)),n.stateMachine.set(i.BOTTOM,new c(e,s+"bottom"+u)),n.stateMachine.set(i.LEFT,new c(e,s+"left"+u)),n.stateMachine.set(i.RIGHT,new c(e,s+"right"+u)),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){i=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"1c46enBx/JL74SZwaXzKRkY","DeathSubStateMachine",void 0);var s="texture/player/death/",u="/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,s+"top"+u)),n.stateMachine.set(a.BOTTOM,new c(e,s+"bottom"+u)),n.stateMachine.set(a.LEFT,new c(e,s+"left"+u)),n.stateMachine.set(a.RIGHT,new c(e,s+"right"+u)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){i=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"9e446Q1jtVG56AN81kPfk3D","DeathSubStateMachine",void 0);var s="texture/door/death/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,s)),n.stateMachine.set(a.BOTTOM,new c(e,s)),n.stateMachine.set(a.LEFT,new c(e,s)),n.stateMachine.set(a.RIGHT,new c(e,s)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){i=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"bdbb2vX+SNFcbfHuANiCOIJ","DeathSubStateMachine",void 0);var u="texture/door/death/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new c(e,u)),n.stateMachine.set(a.BOTTOM,new c(e,u)),n.stateMachine.set(a.LEFT,new c(e,u)),n.stateMachine.set(a.RIGHT,new c(e,u)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathWoodenSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,a,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){i=t.default},function(t){o=t.default}],execute:function(){n._RF.push({},"82484PWhg5NC5nmNF8CLSJh","DeathWoodenSubStateMachine",void 0);var s="texture/woodenskeleton/death/",c="/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(a.TOP,new o(e,s+"top"+c)),n.stateMachine.set(a.BOTTOM,new o(e,s+"bottom"+c)),n.stateMachine.set(a.LEFT,new o(e,s+"left"+c)),n.stateMachine.set(a.RIGHT,new o(e,s+"right"+c)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DirectionSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./SubStateMachine.ts"],(function(t){"use strict";var e,n,i,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.PARAMS_NAME_TYPE,u=t.DIRECTION_ORDER_ENUM},function(t){c=t.SubStateMachine}],execute:function(){n._RF.push({},"daeadL0FklDdL5yIMu1kWn4","DirectionSubStateMachine",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.run=function(){var t=this.fsm.getParams(i.DIRECTION).value;this.currentSate=this.stateMachine.get(u[t])},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/DoorMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EnitiyMgr.ts","./EventMgr.ts","./DataManager.ts","./DoorStateMachine.ts"],(function(t){"use strict";var n,e,i,o,r,s,c,a,u,f;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){i=t.cclegacy,o=t._decorator},function(t){r=t.ENTITY_STATE_ENUM,s=t.ENUM_EVENT},function(t){c=t.EnitiyMgr},function(t){a=t.default},function(t){u=t.default},function(t){f=t.DoorStateMachine}],execute:function(){var E;i._RF.push({},"4c17aawvIBPYb0Zg1be/57E","DoorMgr",void 0);t("MOVE_SPEED",.1);var p=o.ccclass;o.property,t("DoorMgr",p("DoorMgr")(E=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var o=i.prototype;return o.init=function(){var n=e((function*(n){this.fsm=this.addComponent(f),yield this.fsm.init(),t.prototype.init.call(this,n)}));return function(t){return n.apply(this,arguments)}}(),o.onOpen=function(){u.Instance.enemies.every((function(t){return t.state===r.DEATH}))&&this.state!=r.DEATH&&(this.state=r.DEATH)},o.onLoad=function(){a.Instance.addEventListen(s.ENUM_OPEN_DOOR,this.onOpen,this)},o.onDestry=function(){a.Instance.unEventListen(s.ENUM_OPEN_DOOR,this.onOpen)},i}(c))||E);i._RF.pop()}}}));

System.register("chunks:///_virtual/DoorStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./SateMachine.ts","./DeathSubStateMachine3.ts","./IdleSubStateMachine2.ts"],(function(t){"use strict";var e,i,a,n,s,c,r,h,o,u,M;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){a=t.cclegacy,n=t._decorator,s=t.Animation},function(t){c=t.PARAMS_NAME_TYPE},function(t){r=t.getParamsInitTrigger,h=t.getParamsInitNumber,o=t.StateMachine},function(t){u=t.default},function(t){M=t.default}],execute:function(){var f;a._RF.push({},"e3d27PHdVhOYZqFk1WXMf6c","DoorStateMachine",void 0);var S=n.ccclass;n.property,t("DoorStateMachine",S("DoorStateMachine")(f=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var n=a.prototype;return n.init=function(){var t=i((function*(){this.animationCom=this.addComponent(s),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),n.initParams=function(){this.params.set(c.IDLE,r()),this.params.set(c.DEATH,r()),this.params.set(c.DIRECTION,h())},n.initSateMachine=function(){this.stateMachine.set(c.IDLE,new M(this)),this.stateMachine.set(c.DEATH,new u(this))},n.addAnimationEvent=function(){},n.run=function(){switch(this.currentSate){case this.stateMachine.get(c.TURNLEFT):case this.stateMachine.get(c.BLOCKFRONT):case this.stateMachine.get(c.BLOCKTURNLEFT):case this.stateMachine.get(c.IDLE):this.params.get(c.IDLE).value?this.currentSate=this.stateMachine.get(c.IDLE):this.params.get(c.DEATH).value?this.currentSate=this.stateMachine.get(c.DEATH):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(c.IDLE)}},a}(o))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/DrawManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,s,a,n,o,r,h,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,a=t.view,n=t.BlockInputEvents,o=t.Graphics,r=t.UITransform,h=t.Color,l=t.game,c=t.Component}],execute:function(){var u;i._RF.push({},"b0b66NQ0YFM65QYvH7uVnxG","DrawManager",void 0);var d,f=s.ccclass,p=a.getVisibleSize().width,v=a.getVisibleSize().height,A=t("DEFAULT_FADE_DURATION",200);!function(t){t[t.IDLE=0]="IDLE",t[t.FADE_IN=1]="FADE_IN",t[t.FADE_OUT=2]="FADE_OUT"}(d||(d={}));t("DrawManager",f("DrawManager")(u=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))||this).oldTime=0,e.duration=A,e.fadeStatus=d.IDLE,e.fadeResolve=void 0,e.faderNode=void 0,e.ctx=void 0,e.block=void 0,e}e(i,t);var s=i.prototype;return s.init=function(){this.block=this.addComponent(n),this.ctx=this.addComponent(o);var t=this.getComponent(r);t.setAnchorPoint(.5,.5),t.setContentSize(p,v),this.setAlpha(1)},s.setAlpha=function(t){this.ctx.clear(),this.ctx.rect(0,0,p,v),this.ctx.fillColor=new h(0,0,0,255*t),this.ctx.fill(),this.block.enabled=1===t},s.update=function(){var t=(l.totalTime-this.oldTime)/this.duration;switch(this.fadeStatus){case d.FADE_IN:t<1?this.setAlpha(t):(this.fadeStatus=d.IDLE,this.setAlpha(1),this.fadeResolve(null));break;case d.FADE_OUT:t<1?this.setAlpha(1-t):(this.fadeStatus=d.IDLE,this.setAlpha(0),this.fadeResolve(null))}},s.fadeIn=function(t){var e=this;return void 0===t&&(t=A),this.setAlpha(0),this.duration=t,this.fadeStatus=d.FADE_IN,this.oldTime=l.totalTime,new Promise((function(t){e.fadeResolve=t}))},s.fadeOut=function(t){var e=this;return void 0===t&&(t=A),this.setAlpha(1),this.duration=t,this.fadeStatus=d.FADE_OUT,this.oldTime=l.totalTime,new Promise((function(t){e.fadeResolve=t}))},s.mask=function(){return this.setAlpha(1),new Promise((function(t){setTimeout(t,A)}))},i}(c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DataManager.ts","./EnitiyMgr.ts","./EventMgr.ts"],(function(t){"use strict";var n,e,i,s,a,r,o,E,c,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){i=t.cclegacy,s=t._decorator},function(t){a=t.ENTITY_STATE_ENUM,r=t.DIRECTION_ENUM,o=t.ENUM_EVENT},function(t){E=t.default},function(t){c=t.EnitiyMgr},function(t){h=t.default}],execute:function(){var u;i._RF.push({},"86a89m0b8tKm6JsUnByz9zW","EnemyMgr",void 0);var M=s.ccclass;s.property,t("EnemyMgr",M("EnemyMgr")(u=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var s=i.prototype;return s.init=function(){var n=e((function*(n){t.prototype.init.call(this,n)}));return function(t){return n.apply(this,arguments)}}(),s.handlerPlayerMoveEnd=function(){if(E.Instance.playerInfo&&this.state!==a.DEATH&&E.Instance.playerInfo){var t=E.Instance.playerInfo,n=t.x,e=t.y,i=Math.abs(this.x-n),s=Math.abs(this.y-e);n>=this.x&&e<=this.y?this.direction=s>i?r.TOP:r.RIGHT:n<=this.x&&e<=this.y?this.direction=s>i?r.TOP:r.LEFT:n<=this.x&&this.y>=e?this.direction=s>i?r.BOTTOM:r.LEFT:n>=this.x&&this.y>=e&&(this.direction=s>i?r.BOTTOM:r.RIGHT)}},s.onDeath=function(t){this.id===t&&(this.state=a.DEATH)},s.onLoad=function(){h.Instance.addEventListen(o.ENUM_MOVE_END,this.handlerPlayerMoveEnd,this),h.Instance.addEventListen(o.ENUM_PLAYER_BORN,this.handlerPlayerMoveEnd,this),h.Instance.addEventListen(o.ENUM_ENEMY_DEATH,this.onDeath,this)},s.onDestry=function(){h.Instance.unEventListen(o.ENUM_MOVE_END,this.handlerPlayerMoveEnd),h.Instance.unEventListen(o.ENUM_PLAYER_BORN,this.handlerPlayerMoveEnd),h.Instance.unEventListen(o.ENUM_ENEMY_DEATH,this.onDeath)},i}(c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/EnitiyMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./TileManager.ts","./index3.ts"],(function(t){"use strict";var n,e,i,s,o,r,c,a,u,y,h,f,p,d;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator},function(t){s=t.cclegacy,o=t._decorator,r=t.Component,c=t.Sprite,a=t.UITransform},function(t){u=t.PARAMS_NAME_TYPE,y=t.DIRECTION_ORDER_ENUM,h=t.ENITIY_TYPE_ENUM},function(t){f=t.TILE_WIDTH,p=t.TILE_HEIGHT},function(t){d=t.randomNameByLen}],execute:function(){var _;s._RF.push({},"694a6MekKxNXpAQnR3qA+Sw","EnitiyMgr",void 0);t("MOVE_SPEED",.1);var E=o.ccclass;o.property,t("EnitiyMgr",E("EnitiyMgr")(_=function(t){function s(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).id=d(12),n.x=0,n.y=0,n.fsm=null,n._direction=void 0,n._state=void 0,n._type=void 0,n}n(s,t);var o=s.prototype;return o.init=function(){var t=i((function*(t){this.addComponent(c).sizeMode=c.SizeMode.CUSTOM,this.node.getComponent(a).setContentSize(4*f,4*p),this.x=t.x,this.y=t.y,t.type===h.PLAYER&&console.log("初始化玩家y",this.y),this.direction=t.direction,this.state=t.state,this.type=t.type}));return function(n){return t.apply(this,arguments)}}(),o.onLoad=function(){},o.onDestry=function(){},o.update=function(){this.node.setPosition(this.x*f-1.5*f,-this.y*p+1.5*p)},e(s,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t,this.fsm.setParams(u.DIRECTION,y[this._direction])}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.fsm.setParams(this.state,!0)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}}]),s}(r))||_);s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){"use strict";var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){r=t.default}],execute:function(){i._RF.push({},"da039ylhQFDr4LWM2zD9Rck","EventMgr",void 0);t("default",function(t){function i(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).eventDir=new Map,e}e(i,t);var r=i.prototype;return r.addEventListen=function(t,e,n){this.eventDir.has(t)?this.eventDir.get(t).push({fun:e,cxt:n}):this.eventDir.set(t,[{fun:e,cxt:n}])},r.unEventListen=function(t,e){if(this.eventDir.has(t)){var n=this.eventDir.get(t).findIndex((function(t){return t.fun==e}));n>-1&&this.eventDir.get(t).splice(n,1)}},r.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.eventDir.has(t)&&this.eventDir.get(t).forEach((function(t){var e=t.fun,i=t.cxt;i?e.apply(i,n):e.apply(void 0,n)}))},r.clearDir=function(){this.eventDir.clear()},n(i,null,[{key:"Instance",get:function(){return t.getInstance.call(this)}}]),i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/FadeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./DrawManager.ts","./index3.ts"],(function(e){"use strict";var t,n,r,a,o,i,d,s,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e.RenderRoot2D,o=e.director},function(e){i=e.default},function(e){d=e.DEFAULT_FADE_DURATION,s=e.DrawManager},function(e){u=e.createNewNode}],execute:function(){r._RF.push({},"a4b30gOZEFCRq1qlV7gD/Dp","FadeMgr",void 0);e("default",function(e){function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._fader=null,t}t(r,e);var i=r.prototype;return i.fadeIn=function(e){return void 0===e&&(e=d),this._fader.fadeIn(e)},i.fadeOut=function(e){return void 0===e&&(e=d),this._fader.fadeOut(e)},n(r,[{key:"fader",get:function(){if(this._fader)return this._fader;var e=u();e.addComponent(a),e.name="RenderRoot2D";var t=u();return t.setParent(e),this._fader=t.addComponent(s),this._fader.init(),o.addPersistRootNode(e),this._fader}}],[{key:"Instance",get:function(){return e.getInstance.call(this)}}]),r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/IdleIronSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(e){"use strict";var t,n,o,i,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.DIRECTION_ENUM},function(e){a=e.default},function(e){r=e.default}],execute:function(){n._RF.push({},"d39beuWvbJI3r/jxRK8FHeN","IdleIronSubStateMachine",void 0);var s="texture/ironskeleton/idle/",u="/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.TOP,new r(t,s+"top"+u,o.WrapMode.Loop)),n.stateMachine.set(i.BOTTOM,new r(t,s+"bottom"+u,o.WrapMode.Loop)),n.stateMachine.set(i.LEFT,new r(t,s+"left"+u,o.WrapMode.Loop)),n.stateMachine.set(i.RIGHT,new r(t,s+"right"+u,o.WrapMode.Loop)),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,i,o,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.AnimationClip},function(t){o=t.DIRECTION_ENUM},function(t){a=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"547f4ivGqBBQK7ddXBl3QSK","IdleSubStateMachine",void 0);var s="texture/player/idle/",u="/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(o.TOP,new c(e,s+"top"+u,i.WrapMode.Loop)),n.stateMachine.set(o.BOTTOM,new c(e,s+"bottom"+u,i.WrapMode.Loop)),n.stateMachine.set(o.LEFT,new c(e,s+"left"+u,i.WrapMode.Loop)),n.stateMachine.set(o.RIGHT,new c(e,s+"right"+u,i.WrapMode.Loop)),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(e){"use strict";var t,n,o,i,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.DIRECTION_ENUM},function(e){a=e.default},function(e){c=e.default}],execute:function(){n._RF.push({},"c32cevyaPpIeKRKQHCkVjOE","IdleSubStateMachine",void 0);var s="texture/door/idle/",u="/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.TOP,new c(t,s+"top"+u,o.WrapMode.Loop)),n.stateMachine.set(i.BOTTOM,new c(t,s+"top"+u,o.WrapMode.Loop)),n.stateMachine.set(i.LEFT,new c(t,s+"left"+u,o.WrapMode.Loop)),n.stateMachine.set(i.RIGHT,new c(t,s+"left"+u,o.WrapMode.Loop)),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(e){"use strict";var t,n,a,i,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e.AnimationClip},function(e){i=e.DIRECTION_ENUM},function(e){o=e.default},function(e){r=e.default}],execute:function(){n._RF.push({},"b6169UYhkJAPbyl4j3fhlN3","IdleSubStateMachine",void 0);var s="texture/smoke/idle/",c="/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.TOP,new r(t,s+"top"+c,a.WrapMode.Normal)),n.stateMachine.set(i.BOTTOM,new r(t,s+"top"+c,a.WrapMode.Normal)),n.stateMachine.set(i.LEFT,new r(t,s+"left"+c,a.WrapMode.Normal)),n.stateMachine.set(i.RIGHT,new r(t,s+"right"+c,a.WrapMode.Normal)),n}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleWoodenSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(e){"use strict";var t,n,o,i,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.DIRECTION_ENUM},function(e){a=e.default},function(e){s=e.default}],execute:function(){n._RF.push({},"de907HO8VJG2L9vPrO+hQCl","IdleWoodenSubStateMachine",void 0);var c="texture/woodenskeleton/idle/",u="/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(i.TOP,new s(t,c+"top"+u,o.WrapMode.Loop)),n.stateMachine.set(i.BOTTOM,new s(t,c+"bottom"+u,o.WrapMode.Loop)),n.stateMachine.set(i.LEFT,new s(t,c+"left"+u,o.WrapMode.Loop)),n.stateMachine.set(i.RIGHT,new s(t,c+"right"+u,o.WrapMode.Loop)),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./level1.ts","./level2.ts","./level3.ts","./level4.ts","./level5.ts","./level6.ts","./level7.ts","./level8.ts","./level9.ts","./level10.ts"],(function(e){"use strict";var l,t,n,u,f,v,c,i,s,a,o;return{setters:[function(e){l=e.cclegacy},function(e){t=e.default},function(e){n=e.default},function(e){u=e.default},function(e){f=e.default},function(e){v=e.default},function(e){c=e.default},function(e){i=e.default},function(e){s=e.default},function(e){a=e.default},function(e){o=e.default}],execute:function(){l._RF.push({},"3baba/qplpKZpq6SzR+L5NY","index",void 0);e("default",{level1:t,level2:n,level3:u,level4:f,level5:v,level6:c,level7:i,level8:s,level9:a,level10:o});l._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc"],(function(E){"use strict";var T;return{setters:[function(E){T=E.cclegacy}],execute:function(){var _,O,R,N,L,I,U,M,A,S,P,K,C,F,H;E({DIRECTION_ENUM:void 0,DIRECTION_ORDER_ENUM:void 0,ENITIY_TYPE_ENUM:void 0,ENITIY_TYPE_SPIKES_ENUM:void 0,ENTITY_STATE_ENUM:void 0,ENUM_BOTTOM_CONTROLLER:void 0,ENUM_EVENT:void 0,FSM_PARAMS_TYPE_ENUM:void 0,PARAMS_NAME_TYPE:void 0,SCENE_ENUM:void 0,SHAKE_TYPE_ENUM:void 0,SPIKES_COUNT_MAP_NUMBER_ENUM:void 0,SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM:void 0,SPIKE_COUNT_ENUM:void 0,TILE_TYPE_ENUM:void 0}),T._RF.push({},"41c2cXFCPVH9rm2tw5gvlEl","index",void 0),function(E){E.WALL_LEFT_TOP="WALL_LEFT_TOP",E.WALL_COLUMN="WALL_COLUMN",E.WALL_LEFT_BOTTOM="WALL_LEFT_BOTTOM",E.CLIFF_LEFT="CLIFF_LEFT",E.FLOOR="FLOOR",E.WALL_ROW="WALL_ROW",E.CLIFF_CENTER="CLIFF_CENTER",E.WALL_RIGHT_BOTTOM="WALL_RIGHT_BOTTOM",E.WALL_RIGHT_TOP="WALL_RIGHT_TOP",E.CLIFF_RIGHT="CLIFF_RIGHT"}(_||(_=E("TILE_TYPE_ENUM",{}))),function(E){E.ENUM_NEXTLEVEL="ENUM_NEXTLEVEL",E.ENUM_MOVE_PLAYER="ENUM_MOVE_PLAYER",E.ENUM_ATTACK_PLAYER="ENUM_ATTACK_PLAYER",E.ENUM_MOVE_END="ENUM_MOVE_END",E.ENUM_PLAYER_BORN="ENUM_PLAYER_BORN",E.ENUM_PLAYER_DEATH="ENUM_PLAYER_DEATH",E.ENUM_PLAYER_AIRDEATH="ENUM_PLAYER_AIRDEATH",E.ENUM_ENEMY_DEATH="ENUM_ENEMY_DEATH",E.ENUM_OPEN_DOOR="ENUM_OPEN_DOOR",E.ENUM_SHOW_SMOKE="ENUM_SHOW_SMOKE",E.ENUM_SHAKE_SCREEN="ENUM_SHAKE_SCREEN",E.ENUM_RECORD_STEP="ENUM_RECORD_STEP",E.ENUM_REVOKE_STEP="ENUM_REVOKE_STEP",E.ENUM_RESTART_GAME="ENUM_RESTART_GAME"}(O||(O=E("ENUM_EVENT",{}))),function(E){E.TOP="TOP",E.BOTTOM="BOTTOM",E.LEFT="LEFT",E.RIGHT="RIGHT",E.TURNLEFT="TURNLEFT",E.TURNRIGHT="TURNRIGHT"}(R||(R=E("ENUM_BOTTOM_CONTROLLER",{}))),function(E){E.TRIGGER="TRIGGER",E.NUMBER="NUMBER"}(N||(N=E("FSM_PARAMS_TYPE_ENUM",{}))),function(E){E.IDLE="IDLE",E.TURNLEFT="TURNLEFT",E.TURNRIGHT="TURNRIGHT",E.DIRECTION="DIRECTION",E.BLOCKFRONT="BLOCKFRONT",E.BLOCKTURNLEFT="BLOCKTURNLEFT",E.BLOCKLEFT="BLOCKLEFT",E.BLOCKRIGHT="BLOCKRIGHT",E.BLOCKTURNRIGHT="BLOCKTURNRIGHT",E.ATTACK="ATTACK",E.DEATH="DEATH",E.AIRDEATH="AIRDEATH",E.SPIKES_CUR_COUNT="SPIKES_CUR_COUNT",E.SPIKES_TOTAL_COUNT="SPIKES_TOTAL_COUNT"}(L||(L=E("PARAMS_NAME_TYPE",{}))),function(E){E.TOP="TOP",E.BOTTOM="BOTTOM",E.LEFT="LEFT",E.RIGHT="RIGHT"}(I||(I=E("DIRECTION_ENUM",{}))),function(E){E.IDLE="IDLE",E.TURNLEFT="TURNLEFT",E.TURNRIGHT="TURNRIGHT",E.BLOCKBACK="BLOCKBACK",E.BLOCKFRONT="BLOCKFRONT",E.BLOCKLEFT="BLOCKLEFT",E.BLOCKRIGHT="BLOCKRIGHT",E.BLOCKTURNLEFT="BLOCKTURNLEFT",E.BLOCKTURNRIGHT="BLOCKTURNRIGHT",E.ATTACK="ATTACK",E.DEATH="DEATH",E.AIRDEATH="AIRDEATH"}(U||(U=E("ENTITY_STATE_ENUM",{}))),function(E){E[E.TOP=0]="TOP",E[E.BOTTOM=1]="BOTTOM",E[E.LEFT=2]="LEFT",E[E.RIGHT=3]="RIGHT"}(M||(M=E("DIRECTION_ORDER_ENUM",{}))),function(E){E.PLAYER="PLAYER",E.WOODEN="WOODEN",E.IRON="IRON",E.DOOR="DOOR",E.BURST="BURST",E.SMOKE="SMOKE"}(A||(A=E("ENITIY_TYPE_ENUM",{}))),function(E){E.SPIKES_ONE="SPIKES_ONE",E.SPIKES_TWO="SPIKES_TWO",E.SPIKES_THREE="SPIKES_THREE",E.SPIKES_FOUR="SPIKES_FOUR"}(S||(S=E("ENITIY_TYPE_SPIKES_ENUM",{}))),function(E){E[E.SPIKES_ONE=2]="SPIKES_ONE",E[E.SPIKES_TWO=3]="SPIKES_TWO",E[E.SPIKES_THREE=4]="SPIKES_THREE",E[E.SPIKES_FOUR=5]="SPIKES_FOUR"}(P||(P=E("SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM",{}))),function(E){E.ZERO="ZERO",E.ONE="ONE",E.TWO="TWO",E.THREE="THREE",E.FOUR="FOUR",E.FIVE="FIVE"}(K||(K=E("SPIKE_COUNT_ENUM",{}))),function(E){E[E.ZERO=0]="ZERO",E[E.ONE=1]="ONE",E[E.TWO=2]="TWO",E[E.THREE=3]="THREE",E[E.FOUR=4]="FOUR",E[E.FIVE=5]="FIVE"}(C||(C=E("SPIKES_COUNT_MAP_NUMBER_ENUM",{}))),function(E){E.TOP="TOP",E.BOTTOM="BOTTOM",E.LEFT="LEFT",E.RIGHT="RIGHT"}(F||(F=E("SHAKE_TYPE_ENUM",{}))),function(E){E.START="Start",E.BATTLE="Battle",E.LOADING="Loading"}(H||(H=E("SCENE_ENUM",{}))),T._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc"],(function(n){"use strict";var r,e,t,o;return{setters:[function(n){r=n.cclegacy,e=n.Node,t=n.UITransform,o=n.Layers}],execute:function(){r._RF.push({},"4e9f7zgb3hET4oIyZ5uXSGm","index",void 0);n("createNewNode",(function(n){var r=new e;return r.addComponent(t).setAnchorPoint(0,1),r.layer=1<<o.nameToLayer("UI_2D"),r})),n("randomTileByrange",(function(n,r){return Math.floor(Math.random()*(n+(r-n)))}));var a=function(n){return parseInt(n.match(/\((\d+)\)/)[1])||0};n("sortSpriteFrame",(function(n){var r=[];for(var e in n)n[e].name=e,r.push(n[e]);return r.sort((function(n,r){return a(n.name)-a(r.name)}))})),n("randomNameByLen",(function(n){return Array.from({length:n}).reduce((function(n,r){return n+Math.floor(10*Math.random())}),"")}));r._RF.pop()}}}));

System.register("chunks:///_virtual/IronMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyMgr.ts","./IronStateMachine.ts"],(function(t){"use strict";var n,r,o,e,i,c;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator},function(t){o=t.cclegacy,e=t._decorator},function(t){i=t.EnemyMgr},function(t){c=t.IronStateMachine}],execute:function(){var s;o._RF.push({},"2401cP9FbtP6r1jQZTYSzrp","IronMgr",void 0);t("MOVE_SPEED",.1);var u=e.ccclass;e.property,t("IronMgr",u("IronMgr")(s=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.init=function(){var n=r((function*(n){this.fsm=this.addComponent(c),yield this.fsm.init(),t.prototype.init.call(this,n)}));return function(t){return n.apply(this,arguments)}}(),e.onLoad=function(){t.prototype.onLoad.call(this)},e.onDestry=function(){t.prototype.onDestry.call(this)},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/IronStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./SateMachine.ts","./AudioMgr.ts","./DeathIronSubStateMachine.ts","./IdleIronSubStateMachine.ts"],(function(t){"use strict";var e,n,i,a,s,r,c,h,o,u,M,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){i=t.cclegacy,a=t._decorator,s=t.Animation},function(t){r=t.PARAMS_NAME_TYPE},function(t){c=t.getParamsInitTrigger,h=t.getParamsInitNumber,o=t.StateMachine},function(t){u=t.AudioMgr},function(t){M=t.default},function(t){f=t.default}],execute:function(){var S;i._RF.push({},"af3221SDnJMjIKqn4XfssxV","IronStateMachine",void 0);var l=a.ccclass;a.property,t("IronStateMachine",l("IronStateMachine")(S=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var t=n((function*(){this.animationCom=this.addComponent(s),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(r.IDLE,c()),this.params.set(r.DEATH,c()),this.params.set(r.DIRECTION,h())},a.initSateMachine=function(){this.stateMachine.set(r.IDLE,new f(this)),this.stateMachine.set(r.DEATH,new M(this))},a.addAnimationEvent=function(){},a.run=function(){switch(this.currentSate){case this.stateMachine.get(r.TURNLEFT):case this.stateMachine.get(r.BLOCKFRONT):case this.stateMachine.get(r.BLOCKTURNLEFT):case this.stateMachine.get(r.IDLE):this.params.get(r.IDLE).value?this.currentSate=this.stateMachine.get(r.IDLE):this.params.get(r.DEATH).value?(this.currentSate=this.stateMachine.get(r.DEATH),u.inst.playOneShot("sound/enemyDeath")):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(r.IDLE)}},i}(o))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/level1.ts",["cc","./index2.ts"],(function(L){"use strict";var O,e,t,s,c;return{setters:[function(L){O=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,t=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENITIY_TYPE_ENUM}],execute:function(){O._RF.push({},"0faf8MXsNlO4LVe4UtndGiv","level1",void 0);var r=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:2,y:8,direction:t.TOP,state:s.IDLE,type:c.PLAYER},y=[{x:7,y:6,direction:t.TOP,state:s.IDLE,type:c.WOODEN}],_={x:7,y:8,direction:t.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});O._RF.pop()}}}));

System.register("chunks:///_virtual/level10.ts",["cc","./index2.ts"],(function(L){"use strict";var t,e,O,s,c,r;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENITIY_TYPE_ENUM,r=L.ENITIY_TYPE_SPIKES_ENUM}],execute:function(){t._RF.push({},"776008edZJJTKtqRvovELJd","level10",void 0);var y=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:1,y:7,direction:O.TOP,state:s.IDLE,type:c.PLAYER},R=[{x:1,y:3,direction:O.BOTTOM,state:s.IDLE,type:c.WOODEN},{x:2,y:4,direction:O.BOTTOM,state:s.IDLE,type:c.WOODEN},{x:5,y:5,direction:O.LEFT,state:s.IDLE,type:c.WOODEN}],_=[{x:4,y:3,type:r.SPIKES_THREE,count:0}],E=[{x:3,y:4,state:s.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:5,state:s.IDLE,type:c.BURST,direction:O.TOP}],F={x:6,y:1,direction:O.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:y,player:p,enemies:R,spikes:_,bursts:E,door:F});t._RF.pop()}}}));

System.register("chunks:///_virtual/level2.ts",["cc","./index2.ts"],(function(L){"use strict";var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENITIY_TYPE_ENUM}],execute:function(){e._RF.push({},"d6f59P4AVdO755LrZpsLcwg","level2",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.PLAYER},y=[{x:3,y:2,direction:O.TOP,state:s.IDLE,type:c.WOODEN},{x:4,y:3,direction:O.TOP,state:s.IDLE,type:c.WOODEN}],_={x:5,y:3,direction:O.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});e._RF.pop()}}}));

System.register("chunks:///_virtual/level3.ts",["cc","./index2.ts"],(function(l){"use strict";var t,e,L,c,y,s;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,L=l.DIRECTION_ENUM,c=l.ENTITY_STATE_ENUM,y=l.ENITIY_TYPE_ENUM,s=l.ENITIY_TYPE_SPIKES_ENUM}],execute:function(){t._RF.push({},"bbd54hIrz1MVLSDm3S13NL+","level3",void 0);var r=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:0,y:8,direction:L.RIGHT,state:c.IDLE,type:y.PLAYER},O=[{x:6,y:7,direction:L.TOP,state:c.IDLE,type:y.WOODEN}],n=[{x:4,y:8,type:s.SPIKES_ONE,count:0},{x:4,y:9,type:s.SPIKES_ONE,count:0},{x:6,y:3,type:s.SPIKES_ONE,count:0},{x:7,y:3,type:s.SPIKES_ONE,count:0},{x:6,y:5,type:s.SPIKES_ONE,count:0},{x:7,y:5,type:s.SPIKES_ONE,count:0}],u={x:6,y:0,direction:L.BOTTOM,state:c.IDLE,type:y.DOOR};l("default",{mapInfo:r,player:p,enemies:O,spikes:n,bursts:[],door:u});t._RF.pop()}}}));

System.register("chunks:///_virtual/level4.ts",["cc","./index2.ts"],(function(L){"use strict";var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENITIY_TYPE_ENUM}],execute:function(){e._RF.push({},"dbdcd27uxdApKwiDrXgQI8X","level4",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:7,direction:O.TOP,state:s.IDLE,type:c.PLAYER},y=[{x:1,y:3,direction:O.BOTTOM,state:s.IDLE,type:c.IRON}],_={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});e._RF.pop()}}}));

System.register("chunks:///_virtual/level5.ts",["cc","./index2.ts"],(function(e){"use strict";var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,c=e.ENTITY_STATE_ENUM,r=e.ENITIY_TYPE_ENUM}],execute:function(){t._RF.push({},"7448eeXWpZP0oAW05eyTNRi","level5",void 0);var p=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:21,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}]],y={x:1,y:3,direction:s.TOP,state:c.IDLE,type:r.PLAYER},E=[{x:5,y:1,direction:s.LEFT,state:c.IDLE,type:r.WOODEN}],_={x:6,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:p,player:y,enemies:E,spikes:[],bursts:[],door:_});t._RF.pop()}}}));

System.register("chunks:///_virtual/level6.ts",["cc","./index2.ts"],(function(L){"use strict";var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENITIY_TYPE_ENUM}],execute:function(){e._RF.push({},"ebe0bLhrk5DgL3ck2ugh9Ds","level6",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_COLUMN},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],y={x:0,y:3,direction:O.RIGHT,state:s.IDLE,type:c.PLAYER},p=[{x:5,y:2,direction:O.LEFT,state:s.IDLE,type:c.WOODEN},{x:5,y:4,direction:O.LEFT,state:s.IDLE,type:c.WOODEN}],R={x:8,y:3,direction:O.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:y,enemies:p,spikes:[],bursts:[],door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/level7.ts",["cc","./index2.ts"],(function(L){"use strict";var O,t,e,c,s,y;return{setters:[function(L){O=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,e=L.DIRECTION_ENUM,c=L.ENTITY_STATE_ENUM,s=L.ENITIY_TYPE_ENUM,y=L.ENITIY_TYPE_SPIKES_ENUM}],execute:function(){O._RF.push({},"19d276TMldLpJpCNyxI2GgK","level7",void 0);var p=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:21,type:t.WALL_RIGHT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],r={x:2,y:7,direction:e.TOP,state:c.IDLE,type:s.PLAYER},_=[{x:2,y:2,direction:e.BOTTOM,state:c.IDLE,type:s.WOODEN}],T=[{x:1,y:4,type:y.SPIKES_ONE,count:0},{x:2,y:4,type:y.SPIKES_TWO,count:0},{x:3,y:4,type:y.SPIKES_TWO,count:0},{x:4,y:4,type:y.SPIKES_THREE,count:0}],F={x:2,y:0,direction:e.BOTTOM,state:c.IDLE,type:s.DOOR};L("default",{mapInfo:p,player:r,enemies:_,spikes:T,bursts:[],door:F});O._RF.pop()}}}));

System.register("chunks:///_virtual/level8.ts",["cc","./index2.ts"],(function(l){"use strict";var t,e,n,s,y;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,n=l.DIRECTION_ENUM,s=l.ENTITY_STATE_ENUM,y=l.ENITIY_TYPE_ENUM}],execute:function(){t._RF.push({},"7b3acfNkl1JqLm1Xi/4waI8","level8",void 0);var c=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:21,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],r={x:1,y:7,direction:n.TOP,state:s.IDLE,type:y.PLAYER},p=[{x:8,y:1,direction:n.LEFT,state:s.IDLE,type:y.WOODEN}],u=[{x:1,y:2,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:1,y:5,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:1,y:6,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:2,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:3,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:4,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:5,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:6,y:1,state:s.IDLE,type:y.BURST,direction:n.TOP},{x:6,y:2,state:s.IDLE,type:y.BURST,direction:n.TOP}],L={x:9,y:1,direction:n.LEFT,state:s.IDLE,type:y.DOOR};l("default",{mapInfo:c,player:r,enemies:p,spikes:[],bursts:u,door:L});t._RF.pop()}}}));

System.register("chunks:///_virtual/level9.ts",["cc","./index2.ts"],(function(t){"use strict";var L,e,y,c,s,O;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,y=t.DIRECTION_ENUM,c=t.ENTITY_STATE_ENUM,s=t.ENITIY_TYPE_ENUM,O=t.ENITIY_TYPE_SPIKES_ENUM}],execute:function(){L._RF.push({},"eca5cf8lD1BjZKYhCdQa6xo","level9",void 0);var r=[[{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:2,y:11,direction:y.TOP,state:c.IDLE,type:s.PLAYER},_=[{x:1,y:1,direction:y.BOTTOM,state:c.IDLE,type:s.WOODEN},{x:2,y:7,direction:y.BOTTOM,state:c.IDLE,type:s.WOODEN}],T=[{x:1,y:3,type:O.SPIKES_THREE,count:0},{x:3,y:6,type:O.SPIKES_ONE,count:0},{x:2,y:9,type:O.SPIKES_TWO,count:0}],E=[{x:3,y:1,state:c.IDLE,type:s.BURST,direction:y.TOP},{x:3,y:4,state:c.IDLE,type:s.BURST,direction:y.TOP},{x:3,y:5,state:c.IDLE,type:s.BURST,direction:y.TOP},{x:2,y:10,state:c.IDLE,type:s.BURST,direction:y.TOP},{x:3,y:10,state:c.IDLE,type:s.BURST,direction:y.TOP}],R={x:0,y:1,direction:y.LEFT,state:c.IDLE,type:s.DOOR};t("default",{mapInfo:r,player:p,enemies:_,spikes:T,bursts:E,door:R});L._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./index2.ts","./index.ts","./level1.ts","./level10.ts","./level2.ts","./level3.ts","./level4.ts","./level5.ts","./level6.ts","./level7.ts","./level8.ts","./level9.ts","./DirectionSubStateMachine.ts","./EnemyMgr.ts","./EnitiyMgr.ts","./EventMgr.ts","./ResourceLoadMgr.ts","./SateMachine.ts","./Singleton.ts","./State.ts","./SubStateMachine.ts","./BurstMgr.ts","./BurstStateMachine.ts","./DeathSubStateMachine3.ts","./DoorMgr.ts","./DoorStateMachine.ts","./IdleSubStateMachine2.ts","./DeathIronSubStateMachine.ts","./IdleIronSubStateMachine.ts","./IronMgr.ts","./IronStateMachine.ts","./AttackWoondenSubStateMachine.ts","./DeathWoodenSubStateMachine.ts","./IdleWoodenSubStateMachine.ts","./WoodenMgr.ts","./WoodenStateMachine.ts","./AirDeathSubStateMachine.ts","./AttackSubStateMachine.ts","./BlockFrontSubStateMachine.ts","./BlockLeftSubStateMachine.ts","./BlockRightSubStateMachine.ts","./BlockTurnLeftSubStateMachine.ts","./BlockTurnRightSubStateMachine.ts","./DeathSubStateMachine.ts","./IdleSubStateMachine.ts","./PlayerMgr.ts","./PlayerStateMachine.ts","./TurnLeftSubStateMachine.ts","./TurnRightSubStateMachine.ts","./AudioMgr.ts","./DataManager.ts","./FadeMgr.ts","./ShakeManager.ts","./SoundMgr.ts","./UIBattleScene.ts","./UILoadingScene.ts","./UIStartScene.ts","./DeathSubStateMachine2.ts","./IdleSubStateMachine3.ts","./SmokeMgr.ts","./SmokeStateMachine.ts","./SpikeStateMachine.ts","./SpikesFourStateMahine.ts","./SpikesMgr.ts","./SpikesOneSubStateMachine.ts","./SpikesSubStateMahine.ts","./SpikesThreeStateMachine.ts","./SpikesTwoSubStateMachine.ts","./TileManager.ts","./TileMapManager.ts","./BottomControl.ts","./DrawManager.ts","./MenuMgr.ts","./index3.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EventMgr.ts"],(function(n){"use strict";var t,e,r,c,o,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,c=n.Component},function(n){o=n.ENUM_EVENT},function(n){u=n.default}],execute:function(){var i;e._RF.push({},"89e532jf0hIOZpqI1Qc7i/1","MenuMgr",void 0);var s=r.ccclass;r.property,n("MenuMgr",s("MenuMgr")(i=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var r=e.prototype;return r.handlerUndo=function(){u.Instance.emit(o.ENUM_REVOKE_STEP)},r.handlerRestart=function(){u.Instance.emit(o.ENUM_RESTART_GAME)},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EventMgr.ts","./DataManager.ts","./PlayerStateMachine.ts","./EnitiyMgr.ts","./AudioMgr.ts"],(function(t){"use strict";var n,i,e,r,s,a,T,u,o,h,c,f,E,l;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator},function(t){e=t.cclegacy,r=t._decorator},function(t){s=t.ENUM_EVENT,a=t.ENTITY_STATE_ENUM,T=t.ENUM_BOTTOM_CONTROLLER,u=t.SHAKE_TYPE_ENUM,o=t.DIRECTION_ENUM},function(t){h=t.default},function(t){c=t.default},function(t){f=t.PlayerStateMachine},function(t){E=t.EnitiyMgr},function(t){l=t.AudioMgr}],execute:function(){var O;e._RF.push({},"67611d7XOpC8KOUzqv+bXVI","PlayerMgr",void 0);var v=t("MOVE_SPEED",.1),L=r.ccclass;r.property,t("PlayerMrg",L("PlayerMrg")(O=function(t){function e(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).targetX=0,n.targetY=0,n.isMoving=!1,n}n(e,t);var r=e.prototype;return r.init=function(){var n=i((function*(n){this.fsm=this.addComponent(f),yield this.fsm.init(),t.prototype.init.call(this,n),this.targetX=this.x,this.targetY=this.y}));return function(t){return n.apply(this,arguments)}}(),r.onLoad=function(){h.Instance.addEventListen(s.ENUM_MOVE_PLAYER,this.inputHanlder,this),h.Instance.addEventListen(s.ENUM_ATTACK_PLAYER,this.onDeathHanlder,this),h.Instance.addEventListen(s.ENUM_PLAYER_DEATH,this.onDeathHanlder,this)},r.onDestry=function(){h.Instance.unEventListen(s.ENUM_MOVE_PLAYER,this.inputHanlder),h.Instance.unEventListen(s.ENUM_ATTACK_PLAYER,this.onDeathHanlder),h.Instance.unEventListen(s.ENUM_PLAYER_DEATH,this.onDeathHanlder)},r.update=function(){this.updateXY(),t.prototype.update.call(this)},r.updateXY=function(){this.targetX<this.x?this.x-=v:this.targetX>this.x?this.x+=v:this.targetY<this.y?this.y-=v:this.targetY>this.y&&(this.y+=v),Math.abs(this.targetX-this.x)<=.1&&Math.abs(this.targetY-this.y)<=.1&&this.isMoving&&(this.isMoving=!1,this.x=this.targetX,this.y=this.targetY,h.Instance.emit(s.ENUM_MOVE_END))},r.inputHanlder=function(t){if(this.state!==a.DEATH&&this.state!==a.AIRDEATH&&this.state!==a.ATTACK&&!this.isMoving){var n=this.willAttack(t);if(n)return l.inst.playOneShot("sound/attack"),this.state=a.ATTACK,h.Instance.emit(s.ENUM_ENEMY_DEATH,n),h.Instance.emit(s.ENUM_OPEN_DOOR),h.Instance.emit(s.ENUM_MOVE_END),void h.Instance.emit(s.ENUM_RECORD_STEP);this.willBlock(t)?t===T.TOP?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.TOP):t===T.BOTTOM?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.BOTTOM):t===T.LEFT?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.LEFT):t===T.RIGHT?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.RIGHT):t===T.TURNLEFT&&this.direction===o.TOP?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.LEFT):t===T.TURNLEFT&&this.direction===o.LEFT?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.BOTTOM):t===T.TURNLEFT&&this.direction===o.BOTTOM?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.RIGHT):t===T.TURNLEFT&&this.direction===o.RIGHT?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.TOP):t===T.TURNRIGHT&&this.direction===o.TOP?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.RIGHT):t===T.TURNRIGHT&&this.direction===o.LEFT?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.TOP):t===T.TURNRIGHT&&this.direction===o.BOTTOM?h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.LEFT):t===T.TURNRIGHT&&this.direction===o.RIGHT&&h.Instance.emit(s.ENUM_SHAKE_SCREEN,u.BOTTOM):this.handlerMove(t)}},r.onDeathHanlder=function(t){this.state=t,l.inst.playOneShot("sound/death")},r.willBlock=function(t){var n=this.targetX,i=this.targetY,e=this.direction,r=c.Instance.tileMgrInfo,s=c.Instance.enemies.filter((function(t){return t.state!==a.DEATH})),u=c.Instance.doorInfo||{},h=u.x,f=u.y,E=u.state,l=c.Instance.bursts.filter((function(t){return t.state!==a.DEATH})),O=c.Instance,v=O.mapRowCount,L=O.mapColumCount;if(t===T.TOP){var C=i-1;if(e===o.TOP){var R,B;if(C<0)return this.state=a.BLOCKFRONT,!0;var K=i-2,d=null==(R=r[n])?void 0:R[C],M=null==(B=r[n])?void 0:B[K];if((h===n&&f===C||h===n&&f===K)&&E!==a.DEATH)return this.state=a.BLOCKFRONT,!0;for(var H=0;H<s.length;H++){var N=s[H],I=N.x,A=N.y;if(I===n&&A===K||I===n&&A===C)return this.state=a.BLOCKFRONT,!0}if(l.some((function(t){return t.x===n&&t.y===C}))&&(!M||M.canTurn))return!1;if(!d||!d.canMove||M&&!M.canTurn)return this.state=a.BLOCKFRONT,!0}else if(e===o.BOTTOM){var y,_;if(C<0)return this.state=a.BLOCKBACK,!0;var F=i,g=null==(y=r[n])?void 0:y[C],U=null==(_=r[n])?void 0:_[F];if((h===n&&f===C||h===n&&f===F)&&E!==a.DEATH)return this.state=a.BLOCKBACK,!0;for(var m=0;m<s.length;m++){var x=s[m],G=x.x,S=x.y;if(G===n&&S===C)return this.state=a.BLOCKBACK,!0}if(l.some((function(t){return t.x===n&&t.y===C}))&&(!U||U.canTurn))return!1;if(!g||!g.canMove||U&&!U.canTurn)return this.state=a.BLOCKBACK,!0}else if(e===o.LEFT){var D,P;if(C<0)return this.state=a.BLOCKRIGHT,!0;var p=n-1,Y=i-1,k=null==(D=r[n])?void 0:D[C],X=null==(P=r[p])?void 0:P[Y];if((h===n&&f===C||h===p&&f===Y)&&E!==a.DEATH)return this.state=a.BLOCKRIGHT,!0;for(var b=0;b<s.length;b++){var V=s[b],w=V.x,j=V.y;if(w===n&&j===C||w===p&&j===Y)return this.state=a.BLOCKRIGHT,!0}if(l.some((function(t){return t.x===n&&t.y===C}))&&(!X||X.canTurn))return!1;if(!k||!k.canMove||X&&!X.canTurn)return this.state=a.BLOCKRIGHT,!0}else if(e===o.RIGHT){var q,z;if(C<0)return this.state=a.BLOCKLEFT,!0;var W=n+1,J=i-1,Q=null==(q=r[n])?void 0:q[C],Z=null==(z=r[W])?void 0:z[J];if((h===n&&f===C||h===W&&f===J)&&E!==a.DEATH)return this.state=a.BLOCKLEFT,!0;for(var $=0;$<s.length;$++){var tt=s[$],nt=tt.x,it=tt.y;if(nt===n&&it===C||nt===W&&it===J)return this.state=a.BLOCKLEFT,!0}if(l.some((function(t){return t.x===n&&t.y===C}))&&(!Z||Z.canTurn))return!1;if(!Q||!Q.canMove||Z&&!Z.canTurn)return this.state=a.BLOCKLEFT,!0}}else if(t===T.BOTTOM){var et=i+1;if(e===o.TOP){var rt,st;if(et>L-1)return this.state=a.BLOCKBACK,!0;var at=i,Tt=null==(rt=r[n])?void 0:rt[et],ut=null==(st=r[n])?void 0:st[at];if((h===n&&f===et||h===n&&f===at)&&E!==a.DEATH)return this.state=a.BLOCKBACK,!0;for(var ot=0;ot<s.length;ot++){var ht=s[ot],ct=ht.x,ft=ht.y;if(ct===n&&ft===et)return this.state=a.BLOCKBACK,!0}if(l.some((function(t){return t.x===n&&t.y===et}))&&(!ut||ut.canTurn))return!1;if(!Tt||!Tt.canMove||ut&&!ut.canTurn)return this.state=a.BLOCKBACK,!0}else if(e===o.BOTTOM){var Et,lt;if(et>L-1)return this.state=a.BLOCKFRONT,!0;var Ot=i+2,vt=null==(Et=r[n])?void 0:Et[et],Lt=null==(lt=r[n])?void 0:lt[Ot];if((h===n&&f===et||h===n&&f===Ot)&&E!==a.DEATH)return this.state=a.BLOCKFRONT,!0;for(var Ct=0;Ct<s.length;Ct++){var Rt=s[Ct],Bt=Rt.x,Kt=Rt.y;if(Bt===n&&Kt===Ot||Bt===n&&Kt===et)return this.state=a.BLOCKFRONT,!0}if(l.some((function(t){return t.x===n&&t.y===et}))&&(!Lt||Lt.canTurn))return!1;if(!vt||!vt.canMove||Lt&&!Lt.canTurn)return this.state=a.BLOCKFRONT,!0}else if(e===o.LEFT){var dt,Mt;if(et>L-1)return this.state=a.BLOCKLEFT,!0;var Ht=n-1,Nt=i+1,It=null==(dt=r[n])?void 0:dt[et],At=null==(Mt=r[Ht])?void 0:Mt[Nt];if((h===n&&f===et||h===Ht&&f===Nt)&&E!==a.DEATH)return this.state=a.BLOCKLEFT,!0;for(var yt=0;yt<s.length;yt++){var _t=s[yt],Ft=_t.x,gt=_t.y;if(Ft===n&&gt===et||Ft===Ht&&gt===Nt)return this.state=a.BLOCKLEFT,!0}if(l.some((function(t){return t.x===n&&t.y===et}))&&(!At||At.canTurn))return!1;if(!It||!It.canMove||At&&!At.canTurn)return this.state=a.BLOCKLEFT,!0}else if(e===o.RIGHT){var Ut,mt;if(et>L-1)return this.state=a.BLOCKRIGHT,!0;var xt=n+1,Gt=i+1,St=null==(Ut=r[n])?void 0:Ut[et],Dt=null==(mt=r[xt])?void 0:mt[Gt];if((h===n&&f===et||h===xt&&f===Gt)&&E!==a.DEATH)return this.state=a.BLOCKRIGHT,!0;for(var Pt=0;Pt<s.length;Pt++){var pt=s[Pt],Yt=pt.x,kt=pt.y;if(Yt===n&&kt===et||Yt===xt&&kt===Gt)return this.state=a.BLOCKRIGHT,!0}if(l.some((function(t){return t.x===n&&t.y===et}))&&(!Dt||Dt.canTurn))return!1;if(!St||!St.canMove||Dt&&!Dt.canTurn)return this.state=a.BLOCKRIGHT,!0}}else if(t===T.LEFT){var Xt=n-1;if(e===o.TOP){var bt,Vt;if(Xt<0)return this.state=a.BLOCKLEFT,!0;var wt=n-1,jt=i-1,qt=null==(bt=r[Xt])?void 0:bt[i],zt=null==(Vt=r[wt])?void 0:Vt[jt];if((h===Xt&&f===i||h===wt&&f===jt)&&E!==a.DEATH)return this.state=a.BLOCKLEFT,!0;for(var Wt=0;Wt<s.length;Wt++){var Jt=s[Wt],Qt=Jt.x,Zt=Jt.y;if(Qt===Xt&&Zt===i||Qt===wt&&Zt===jt)return this.state=a.BLOCKLEFT,!0}if(l.some((function(t){return t.x===Xt&&t.y===i}))&&(!zt||zt.canTurn))return!1;if(!qt||!qt.canMove||zt&&!zt.canTurn)return this.state=a.BLOCKLEFT,!0}else if(e===o.BOTTOM){var $t,tn;if(Xt<0)return this.state=a.BLOCKRIGHT,!0;var nn=n-1,en=i+1,rn=null==($t=r[Xt])?void 0:$t[i],sn=null==(tn=r[nn])?void 0:tn[en];if((h===Xt&&f===i||h===nn&&f===en)&&E!==a.DEATH)return this.state=a.BLOCKRIGHT,!0;for(var an=0;an<s.length;an++){var Tn=s[an],un=Tn.x,on=Tn.y;if(un===Xt&&on===i||un===nn&&on===en)return this.state=a.BLOCKRIGHT,!0}if(l.some((function(t){return t.x===Xt&&t.y===i}))&&(!sn||sn.canTurn))return!1;if(!rn||!rn.canMove||sn&&!sn.canTurn)return this.state=a.BLOCKRIGHT,!0}else if(e===o.LEFT){var hn,cn;if(Xt<0)return this.state=a.BLOCKFRONT,!0;var fn=n-2,En=null==(hn=r[Xt])?void 0:hn[i],ln=null==(cn=r[fn])?void 0:cn[i];if((h===Xt&&f===i||h===fn&&f===i)&&E!==a.DEATH)return this.state=a.BLOCKFRONT,!0;for(var On=0;On<s.length;On++){var vn=s[On],Ln=vn.x,Cn=vn.y;if(Ln===Xt&&Cn===i||Ln===fn&&Cn===i)return this.state=a.BLOCKFRONT,!0}if(l.some((function(t){return t.x===Xt&&t.y===i}))&&(!ln||ln.canTurn))return!1;if(!En||!En.canMove||ln&&!ln.canTurn)return this.state=a.BLOCKFRONT,!0}else if(e===o.RIGHT){var Rn,Bn;if(Xt<0)return this.state=a.BLOCKBACK,!0;var Kn=n,dn=null==(Rn=r[Xt])?void 0:Rn[i],Mn=null==(Bn=r[Kn])?void 0:Bn[i];if((h===Xt&&f===i||h===Kn&&f===i)&&E!==a.DEATH)return this.state=a.BLOCKBACK,!0;for(var Hn=0;Hn<s.length;Hn++){var Nn=s[Hn],In=Nn.x,An=Nn.y;if(In===Xt&&An===i)return this.state=a.BLOCKBACK,!0}if(l.some((function(t){return t.x===Xt&&t.y===i}))&&(!Mn||Mn.canTurn))return!1;if(!dn||!dn.canMove||Mn&&!Mn.canTurn)return this.state=a.BLOCKBACK,!0}}else if(t===T.RIGHT){var yn=n+1;if(e===o.TOP){var _n,Fn;if(yn>v-1)return this.state=a.BLOCKRIGHT,!0;var gn=n+1,Un=i-1,mn=null==(_n=r[yn])?void 0:_n[i],xn=null==(Fn=r[gn])?void 0:Fn[Un];if((h===yn&&f===i||h===gn&&f===Un)&&E!==a.DEATH)return this.state=a.BLOCKRIGHT,!0;for(var Gn=0;Gn<s.length;Gn++){var Sn=s[Gn],Dn=Sn.x,Pn=Sn.y;if(Dn===yn&&Pn===i||Dn===gn&&Pn===Un)return this.state=a.BLOCKRIGHT,!0}if(l.some((function(t){return t.x===yn&&t.y===i}))&&(!xn||xn.canTurn))return!1;if(!mn||!mn.canMove||xn&&!xn.canTurn)return this.state=a.BLOCKRIGHT,!0}else if(e===o.BOTTOM){var pn,Yn;if(yn>v-1)return this.state=a.BLOCKLEFT,!0;var kn=n+1,Xn=i+1,bn=null==(pn=r[yn])?void 0:pn[i],Vn=null==(Yn=r[kn])?void 0:Yn[Xn];if((h===yn&&f===i||h===kn&&f===Xn)&&E!==a.DEATH)return this.state=a.BLOCKLEFT,!0;for(var wn=0;wn<s.length;wn++){var jn=s[wn],qn=jn.x,zn=jn.y;if(qn===yn&&zn===i||qn===kn&&zn===Xn)return this.state=a.BLOCKLEFT,!0}if(l.some((function(t){return t.x===yn&&t.y===i}))&&(!Vn||Vn.canTurn))return!1;if(!bn||!bn.canMove||Vn&&!Vn.canTurn)return this.state=a.BLOCKLEFT,!0}else if(e===o.LEFT){var Wn,Jn;if(yn>v-1)return this.state=a.BLOCKBACK,!0;var Qn=n,Zn=null==(Wn=r[yn])?void 0:Wn[i],$n=null==(Jn=r[Qn])?void 0:Jn[i];if((h===yn&&f===i||h===Qn&&f===i)&&E!==a.DEATH)return this.state=a.BLOCKBACK,!0;for(var ti=0;ti<s.length;ti++){var ni=s[ti],ii=ni.x,ei=ni.y;if(ii===yn&&ei===i)return this.state=a.BLOCKBACK,!0}if(l.some((function(t){return t.x===yn&&t.y===i}))&&(!$n||$n.canTurn))return!1;if(!Zn||!Zn.canMove||$n&&!$n.canTurn)return this.state=a.BLOCKBACK,!0}else if(e===o.RIGHT){var ri,si;if(yn>v-1)return this.state=a.BLOCKFRONT,!0;var ai=n+2,Ti=null==(ri=r[yn])?void 0:ri[i],ui=null==(si=r[ai])?void 0:si[i];if((h===yn&&f===i||h===ai&&f===i)&&E!==a.DEATH)return this.state=a.BLOCKFRONT,!0;for(var oi=0;oi<s.length;oi++){var hi=s[oi],ci=hi.x,fi=hi.y;if(ci===yn&&fi===i||ci===ai&&fi===i)return this.state=a.BLOCKFRONT,!0}if(l.some((function(t){return t.x===yn&&t.y===i}))&&(!ui||ui.canTurn))return!1;if(!Ti||!Ti.canMove||ui&&!ui.canTurn)return this.state=a.BLOCKFRONT,!0}}else if(t===T.TURNLEFT){var Ei,li,Oi,vi,Li,Ci,Ri,Bi;if(e===o.TOP?(Ri=i-1,Bi=n-1):e===o.BOTTOM?(Ri=i+1,Bi=n+1):e===o.LEFT?(Ri=i+1,Bi=n-1):e===o.RIGHT&&(Ri=i-1,Bi=n+1),(h===n&&f===Ri||h===Bi&&f===i||h===Bi&&f===Ri)&&E!==a.DEATH)return this.state=a.BLOCKTURNLEFT,!0;for(var Ki=0;Ki<s.length;Ki++){var di=s[Ki],Mi=di.x,Hi=di.y;if(Mi===Bi&&Hi===i)return this.state=a.BLOCKTURNLEFT,!0;if(Mi===Bi&&Hi===Ri)return this.state=a.BLOCKTURNLEFT,!0;if(Mi===n&&Hi===Ri)return this.state=a.BLOCKTURNLEFT,!0}if(null!=(Ei=r[n])&&Ei[Ri]&&(null==(li=r[n])||!li[Ri].canTurn)||null!=(Oi=r[Bi])&&Oi[i]&&(null==(vi=r[Bi])||!vi[i].canTurn)||null!=(Li=r[Bi])&&Li[Ri]&&(null==(Ci=r[Bi])||!Ci[Ri].canTurn))return this.state=a.BLOCKTURNLEFT,!0}else if(t===T.TURNRIGHT){var Ni,Ii,Ai,yi,_i,Fi,gi,Ui;if(e===o.TOP?(Ui=i-1,gi=n+1):e===o.BOTTOM?(Ui=i+1,gi=n-1):e===o.LEFT?(Ui=i-1,gi=n-1):e===o.RIGHT&&(Ui=i+1,gi=n+1),(h===n&&f===Ui||h===gi&&f===i||h===gi&&f===Ui)&&E!==a.DEATH)return this.state=a.BLOCKTURNRIGHT,!0;for(var mi=0;mi<s.length;mi++){var xi=s[mi],Gi=xi.x,Si=xi.y;if(Gi===gi&&Si===i)return this.state=a.BLOCKTURNRIGHT,!0;if(Gi===gi&&Si===Ui)return this.state=a.BLOCKTURNRIGHT,!0;if(Gi===n&&Si===Ui)return this.state=a.BLOCKTURNRIGHT,!0}if(null!=(Ni=r[n])&&Ni[Ui]&&(null==(Ii=r[n])||!Ii[Ui].canTurn)||null!=(Ai=r[gi])&&Ai[i]&&(null==(yi=r[gi])||!yi[i].canTurn)||null!=(_i=r[gi])&&_i[Ui]&&(null==(Fi=r[gi])||!Fi[Ui].canTurn))return this.state=a.BLOCKTURNRIGHT,!0}return!1},r.willAttack=function(t){for(var n=c.Instance.enemies.filter((function(t){return t.state!=a.DEATH})),i=0;i<n.length;i++){var e=n[i],r=e.x,s=e.y,u=e.id;if(t===T.TOP&&this.direction===o.TOP&&r==this.x&&s==this.y-2)return this.state=a.ATTACK,u;if(t===T.BOTTOM&&this.direction===o.BOTTOM&&r==this.x&&s==this.y+2)return this.state=a.ATTACK,u;if(t===T.LEFT&&this.direction===o.LEFT&&r==this.x-2&&s==this.y)return this.state=a.ATTACK,u;if(t===T.RIGHT&&this.direction===o.RIGHT&&r==this.x+2&&s==this.y)return this.state=a.ATTACK,u}return""},r.handlerMove=function(t){switch(h.Instance.emit(s.ENUM_RECORD_STEP),t){case T.TOP:this.isMoving=!0,this.onSmokeHandler(t),this.targetY-=1,l.inst.playOneShot("sound/move");break;case T.BOTTOM:this.isMoving=!0,this.onSmokeHandler(t),this.targetY+=1,l.inst.playOneShot("sound/move");break;case T.LEFT:this.isMoving=!0,this.onSmokeHandler(t),this.targetX-=1,l.inst.playOneShot("sound/move");break;case T.RIGHT:this.isMoving=!0,this.onSmokeHandler(t),this.targetX+=1,l.inst.playOneShot("sound/move");break;case T.TURNLEFT:this.direction===o.TOP?this.direction=o.LEFT:this.direction===o.BOTTOM?this.direction=o.RIGHT:this.direction===o.LEFT?this.direction=o.BOTTOM:this.direction===o.RIGHT&&(this.direction=o.TOP),this.state=a.TURNLEFT,h.Instance.emit(s.ENUM_MOVE_END);break;case T.TURNRIGHT:this.direction===o.TOP?this.direction=o.RIGHT:this.direction===o.BOTTOM?this.direction=o.LEFT:this.direction===o.LEFT?this.direction=o.TOP:this.direction===o.RIGHT&&(this.direction=o.BOTTOM),this.state=a.TURNRIGHT,h.Instance.emit(s.ENUM_MOVE_END)}},r.onSmokeHandler=function(t){h.Instance.emit(s.ENUM_SHOW_SMOKE,this.x,this.y,t)},r.onAttackShake=function(t){h.Instance.emit(s.ENUM_SHAKE_SCREEN,t)},e}(E))||O);e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./AttackSubStateMachine.ts","./BlockFrontSubStateMachine.ts","./BlockTurnLeftSubStateMachine.ts","./BlockTurnRightSubStateMachine.ts","./DeathSubStateMachine.ts","./IdleSubStateMachine.ts","./TurnLeftSubStateMachine.ts","./TurnRightSubStateMachine.ts","./EnitiyMgr.ts","./SateMachine.ts","./AirDeathSubStateMachine.ts","./BlockLeftSubStateMachine.ts","./BlockRightSubStateMachine.ts"],(function(t){"use strict";var e,a,s,i,n,h,c,r,u,T,o,M,L,l,R,S,g,f,E,m,p,C;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator},function(t){s=t.cclegacy,i=t._decorator,n=t.Animation},function(t){h=t.PARAMS_NAME_TYPE,c=t.ENTITY_STATE_ENUM},function(t){r=t.default},function(t){u=t.default},function(t){T=t.default},function(t){o=t.default},function(t){M=t.default},function(t){L=t.default},function(t){l=t.default},function(t){R=t.default},function(t){S=t.EnitiyMgr},function(t){g=t.getParamsInitTrigger,f=t.getParamsInitNumber,E=t.StateMachine},function(t){m=t.default},function(t){p=t.default},function(t){C=t.default}],execute:function(){var A;s._RF.push({},"6883a7qa75JVqgE4sZsfJT+","PlayerStateMachine",void 0);var I=i.ccclass;i.property,t("PlayerStateMachine",I("PlayerStateMachine")(A=function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var i=s.prototype;return i.init=function(){var t=a((function*(){this.animationCom=this.addComponent(n),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),i.initParams=function(){this.params.set(h.IDLE,g()),this.params.set(h.TURNLEFT,g()),this.params.set(h.TURNRIGHT,g()),this.params.set(h.DIRECTION,f()),this.params.set(h.BLOCKFRONT,g()),this.params.set(h.BLOCKTURNLEFT,g()),this.params.set(h.BLOCKTURNRIGHT,g()),this.params.set(h.BLOCKLEFT,g()),this.params.set(h.BLOCKRIGHT,g()),this.params.set(h.DEATH,g()),this.params.set(h.AIRDEATH,g()),this.params.set(h.ATTACK,g())},i.initSateMachine=function(){this.stateMachine.set(h.IDLE,new L(this)),this.stateMachine.set(h.TURNLEFT,new l(this)),this.stateMachine.set(h.TURNRIGHT,new R(this)),this.stateMachine.set(h.BLOCKFRONT,new u(this)),this.stateMachine.set(h.BLOCKTURNLEFT,new T(this)),this.stateMachine.set(h.BLOCKLEFT,new p(this)),this.stateMachine.set(h.BLOCKRIGHT,new C(this)),this.stateMachine.set(h.BLOCKTURNRIGHT,new o(this)),this.stateMachine.set(h.DEATH,new M(this)),this.stateMachine.set(h.AIRDEATH,new m(this)),this.stateMachine.set(h.ATTACK,new r(this))},i.addAnimationEvent=function(){var t=this;this.animationCom.on(n.EventType.FINISHED,(function(){var e=t.animationCom.defaultClip.name;["block","turn","attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(S).state=c.IDLE)}))},i.run=function(){switch(this.currentSate){case this.stateMachine.get(h.TURNLEFT):case this.stateMachine.get(h.TURNRIGHT):case this.stateMachine.get(h.BLOCKFRONT):case this.stateMachine.get(h.BLOCKTURNLEFT):case this.stateMachine.get(h.BLOCKLEFT):case this.stateMachine.get(h.BLOCKRIGHT):case this.stateMachine.get(h.DEATH):case this.stateMachine.get(h.AIRDEATH):case this.stateMachine.get(h.ATTACK):case this.stateMachine.get(h.IDLE):this.params.get(h.BLOCKFRONT).value?this.currentSate=this.stateMachine.get(h.BLOCKFRONT):this.params.get(h.BLOCKTURNRIGHT).value?this.currentSate=this.stateMachine.get(h.BLOCKTURNRIGHT):this.params.get(h.TURNLEFT).value?this.currentSate=this.stateMachine.get(h.TURNLEFT):this.params.get(h.TURNRIGHT).value?this.currentSate=this.stateMachine.get(h.TURNRIGHT):this.params.get(h.BLOCKTURNLEFT).value?this.currentSate=this.stateMachine.get(h.BLOCKTURNLEFT):this.params.get(h.BLOCKLEFT).value?this.currentSate=this.stateMachine.get(h.BLOCKLEFT):this.params.get(h.BLOCKRIGHT).value?this.currentSate=this.stateMachine.get(h.BLOCKRIGHT):this.params.get(h.IDLE).value?this.currentSate=this.stateMachine.get(h.IDLE):this.params.get(h.DEATH).value?this.currentSate=this.stateMachine.get(h.DEATH):this.params.get(h.AIRDEATH).value?this.currentSate=this.stateMachine.get(h.AIRDEATH):this.params.get(h.ATTACK).value?this.currentSate=this.stateMachine.get(h.ATTACK):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(h.IDLE)}},s}(E))||A);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoadMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){"use strict";var t,n,o,s,c,r;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,s=e.resources,c=e.SpriteAtlas},function(e){r=e.default}],execute:function(){o._RF.push({},"96d7cXqin1Bs5cbVomOG7FN","ResourceLoadMgr",void 0);e("default",function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.loadRes=function(e,t){return void 0===t&&(t=c),new Promise((function(n,o){s.load(e,t,(function(e,t){e?(console.log(e),o(!1)):n(t)}))}))},n(o,null,[{key:"Instance",get:function(){return e.getInstance.call(this)}}]),o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/SateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts"],(function(t){"use strict";var e,r,a,n,i,s,u;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,a=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.Component},function(t){u=t.FSM_PARAMS_TYPE_ENUM}],execute:function(){var c;n._RF.push({},"8fed2fJdWRN6rGg7ppBrpxx","SateMachine",void 0);t("getParamsInitTrigger",(function(){return{type:u.TRIGGER,value:!1}})),t("getParamsInitNumber",(function(){return{type:u.NUMBER,value:0}}));var o=i.ccclass;i.property,t("StateMachine",o("StateMachine")(c=function(t){function n(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._currentSate=null,e.params=new Map,e.stateMachine=new Map,e.animationCom=null,e.waitList=[],e}e(n,t);var i=n.prototype;return i.getParams=function(t){if(this.params.has(t))return this.params.get(t)},i.setParams=function(t,e){this.params.has(t)&&(this.params.get(t).value=e,this.run(),this.resetTrigger())},i.resetTrigger=function(){for(var t,e=r(this.params);!(t=e()).done;){var a=t.value,n=(a[0],a[1]);n.type==u.TRIGGER&&(n.value=!1)}},a(n,[{key:"currentSate",get:function(){return this._currentSate},set:function(t){this._currentSate=t,this._currentSate.run()}}]),n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EventMgr.ts"],(function(t){"use strict";var s,i,o,n,e,h,a,d;return{setters:[function(t){s=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,n=t.game,e=t.Component},function(t){h=t.ENUM_EVENT,a=t.SHAKE_TYPE_ENUM},function(t){d=t.default}],execute:function(){var l;i._RF.push({},"16853PPll9E7oM9vDuYU/oK","ShakeManager",void 0);var r=o.ccclass;t("ShakeManager",r("ShakeManager")(l=function(t){function i(){for(var s,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(s=t.call.apply(t,[this].concat(o))||this).isShaking=void 0,s.shakeType=void 0,s.oldTime=void 0,s.oldPos={x:0,y:0},s}s(i,t);var o=i.prototype;return o.onLoad=function(){d.Instance.addEventListen(h.ENUM_SHAKE_SCREEN,this.onShake,this)},o.onDestroy=function(){d.Instance.unEventListen(h.ENUM_SHAKE_SCREEN,this.onShake)},o.stop=function(){this.isShaking=!1},o.onShake=function(t){this.isShaking||(this.isShaking=!0,this.shakeType=t,this.oldTime=n.totalTime,this.oldPos.x=this.node.position.x,this.oldPos.y=this.node.position.y)},o.update=function(){this.onShakeUpdate()},o.onShakeUpdate=function(){if(this.isShaking){var t=(n.totalTime-this.oldTime)/1e3,s=1.6*Math.sin(12*Math.PI*t);this.shakeType===a.TOP?this.node.setPosition(this.oldPos.x,this.oldPos.y-s):this.shakeType===a.BOTTOM?this.node.setPosition(this.oldPos.x,this.oldPos.y+s):this.shakeType===a.LEFT?this.node.setPosition(this.oldPos.x-s,this.oldPos.y):this.shakeType===a.RIGHT&&this.node.setPosition(this.oldPos.x+s,this.oldPos.y),t>.2&&(this.isShaking=!1,this.node.setPosition(this.oldPos.x,this.oldPos.y))}},i}(e))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"af568Pz3g1GJpbMyjHijK6o","Singleton",void 0),n("default",function(){function n(){}return n.getInstance=function(){return null==this._instance&&(this._instance=new this),this._instance},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnitiyMgr.ts","./SmokeStateMachine.ts"],(function(t){"use strict";var n,o,e,i,r,c;return{setters:[function(t){n=t.inheritsLoose,o=t.asyncToGenerator},function(t){e=t.cclegacy,i=t._decorator},function(t){r=t.EnitiyMgr},function(t){c=t.SmokeStateMachine}],execute:function(){var s;e._RF.push({},"014919U1LxIAYZ8WBzJcjXU","SmokeMgr",void 0);t("MOVE_SPEED",.1);var u=i.ccclass;i.property,t("SmokeMgr",u("SmokeMgr")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.init=function(){var n=o((function*(n){this.fsm=this.addComponent(c),yield this.fsm.init(),t.prototype.init.call(this,n)}));return function(t){return n.apply(this,arguments)}}(),i.onLoad=function(){t.prototype.onLoad.call(this)},i.onDestry=function(){t.prototype.onDestroy.call(this)},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/SmokeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EnitiyMgr.ts","./SateMachine.ts","./DeathSubStateMachine2.ts","./IdleSubStateMachine3.ts"],(function(t){"use strict";var e,i,n,a,s,c,r,h,o,u,m,E,S;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){c=t.PARAMS_NAME_TYPE,r=t.ENTITY_STATE_ENUM},function(t){h=t.EnitiyMgr},function(t){o=t.getParamsInitTrigger,u=t.getParamsInitNumber,m=t.StateMachine},function(t){E=t.default},function(t){S=t.default}],execute:function(){var M;n._RF.push({},"7e756EI51tFU7JQxB6+7g6F","SmokeStateMachine",void 0);var f=a.ccclass;a.property,t("SmokeStateMachine",f("SmokeStateMachine")(M=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.init=function(){var t=i((function*(){this.animationCom=this.addComponent(s),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(c.IDLE,o()),this.params.set(c.DEATH,o()),this.params.set(c.DIRECTION,u())},a.initSateMachine=function(){this.stateMachine.set(c.IDLE,new S(this)),this.stateMachine.set(c.DEATH,new E(this))},a.addAnimationEvent=function(){var t=this;this.animationCom.on(s.EventType.FINISHED,(function(){var e=t.animationCom.defaultClip.name;["idle"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(h).state=r.DEATH)}))},a.run=function(){switch(this.currentSate){case this.stateMachine.get(c.TURNLEFT):case this.stateMachine.get(c.BLOCKFRONT):case this.stateMachine.get(c.BLOCKTURNLEFT):case this.stateMachine.get(c.IDLE):this.params.get(c.IDLE).value?this.currentSate=this.stateMachine.get(c.IDLE):this.params.get(c.DEATH).value?this.currentSate=this.stateMachine.get(c.DEATH):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(c.IDLE)}},n}(m))||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/SoundMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(o){"use strict";var n,e,u,t,c,i,l;return{setters:[function(o){n=o.inheritsLoose,e=o.createClass},function(o){u=o.cclegacy,t=o.resources,c=o.AudioClip,i=o.AudioSource},function(o){l=o.default}],execute:function(){u._RF.push({},"3d486jPIXFGw6eUEjoYM4XH","SoundMgr",void 0);o("default",function(o){function u(){for(var n,e=arguments.length,u=new Array(e),t=0;t<e;t++)u[t]=arguments[t];return(n=o.call.apply(o,[this].concat(u))||this).audioSouce=new i,n}n(u,o);var l=u.prototype;return l.playMusic=function(o,n){var e=this;t.load(o,c,(function(o,u){o?console.log(o):(e.audioSouce.clip=u,e.audioSouce.loop=n,e.audioSouce.play())}))},l.playSound=function(o){var n=this;t.load(o,c,(function(o,e){o?console.log(o):(n.audioSouce.clip=e,n.audioSouce.playOneShot(e))}))},e(u,null,[{key:"Instance",get:function(){return o.getInstance.call(this)}}]),u}(l));u._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesFourStateMahine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./State.ts","./SpikesSubStateMahine.ts"],(function(e){"use strict";var t,n,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKE_COUNT_ENUM},function(e){i=e.default},function(e){a=e.default}],execute:function(){n._RF.push({},"1ad28l3A6ZJfquljrI+jkCl","SpikesFourStateMahine",void 0);var u="texture/spikes/spikesfour/";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,u+"zero/zero")),n.stateMachine.set(s.ONE,new i(t,u+"one/one")),n.stateMachine.set(s.TWO,new i(t,u+"two/two")),n.stateMachine.set(s.THREE,new i(t,u+"three/three")),n.stateMachine.set(s.FOUR,new i(t,u+"four/four")),n.stateMachine.set(s.FIVE,new i(t,u+"five/five")),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EventMgr.ts","./DataManager.ts","./TileManager.ts","./index3.ts","./SpikeStateMachine.ts"],(function(t){"use strict";var n,e,o,i,s,u,a,c,r,h,f,_,p,E,l,y,d,M;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,o=t.asyncToGenerator},function(t){i=t.cclegacy,s=t._decorator,u=t.Component,a=t.Sprite,c=t.UITransform},function(t){r=t.ENUM_EVENT,h=t.ENTITY_STATE_ENUM,f=t.PARAMS_NAME_TYPE,_=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){p=t.default},function(t){E=t.default},function(t){l=t.TILE_WIDTH,y=t.TILE_HEIGHT},function(t){d=t.randomNameByLen},function(t){M=t.SpikeStateMachine}],execute:function(){var T;i._RF.push({},"1e98fPahBVKa7UFRq0wf0/f","SpikesMgr",void 0);t("MOVE_SPEED",.1);var C=s.ccclass;s.property,t("SpikesMgr",C("SpikesMgr")(T=function(t){function i(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).id=d(12),n.x=0,n.y=0,n.fsm=null,n._count=void 0,n._totalCount=void 0,n._state=void 0,n._type=void 0,n}n(i,t);var s=i.prototype;return s.init=function(){var t=o((function*(t){this.addComponent(a).sizeMode=a.SizeMode.CUSTOM,this.node.getComponent(c).setContentSize(4*l,4*y),this.fsm=this.addComponent(M),yield this.fsm.init(),this.x=t.x,this.y=t.y,this._type=t.type,this.totalCount=_[this._type],this.count=t.count}));return function(n){return t.apply(this,arguments)}}(),s.onChangeCount=function(){this.count===this.totalCount?this.count=1:this.count++,this.onAttack()},s.countToZero=function(){this.count=0},s.onAttack=function(){if(E.Instance.playerInfo){var t=E.Instance.playerInfo,n=t.x,e=t.y;this.x===n&&this.y===e&&this.count===this.totalCount&&p.Instance.emit(r.ENUM_PLAYER_DEATH,h.DEATH)}},s.onLoad=function(){p.Instance.addEventListen(r.ENUM_MOVE_END,this.onChangeCount,this)},s.onDestry=function(){p.Instance.unEventListen(r.ENUM_MOVE_END,this.onChangeCount)},s.update=function(){this.node.setPosition(this.x*l-1.5*l,-this.y*y+1.5*y)},e(i,[{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.fsm.setParams(f.SPIKES_CUR_COUNT,t)}},{key:"totalCount",get:function(){return this._totalCount},set:function(t){this._totalCount=t,this.fsm.setParams(f.SPIKES_TOTAL_COUNT,t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}}]),i}(u))||T);i._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesOneSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./State.ts","./SpikesSubStateMahine.ts"],(function(e){"use strict";var t,n,s,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKE_COUNT_ENUM},function(e){i=e.default},function(e){u=e.default}],execute:function(){n._RF.push({},"c92f778wQVEfrGmCDWly+7T","SpikesOneSubStateMachine",void 0);var c="texture/spikes/spikesone/";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,c+"zero/zero")),n.stateMachine.set(s.ONE,new i(t,c+"one/one")),n.stateMachine.set(s.TWO,new i(t,c+"two/two")),n}return t(n,e),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesSubStateMahine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./SubStateMachine.ts"],(function(t){"use strict";var e,n,i,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.PARAMS_NAME_TYPE,u=t.SPIKES_COUNT_MAP_NUMBER_ENUM},function(t){s=t.SubStateMachine}],execute:function(){n._RF.push({},"7138dUg+4hLmY6oCloEjQXl","SpikesSubStateMahine",void 0);t("default",function(t){function n(e){return t.call(this,e)||this}return e(n,t),n.prototype.run=function(){var t=this.fsm.getParams(i.SPIKES_CUR_COUNT).value;this.currentSate=this.stateMachine.get(u[t])},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./SateMachine.ts","./SpikesFourStateMahine.ts","./SpikesMgr.ts","./SpikesOneSubStateMachine.ts","./SpikesThreeStateMachine.ts","./SpikesTwoSubStateMachine.ts"],(function(t){"use strict";var e,i,n,a,s,S,c,h,r,u,o,E,_,P,I;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){S=t.PARAMS_NAME_TYPE,c=t.ENITIY_TYPE_SPIKES_ENUM,h=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){r=t.getParamsInitNumber,u=t.StateMachine},function(t){o=t.default},function(t){E=t.SpikesMgr},function(t){_=t.default},function(t){P=t.default},function(t){I=t.default}],execute:function(){var M;n._RF.push({},"c0c9fQr+0lEHaoaw5WYwuI/","SpikeStateMachine",void 0);var f=a.ccclass;a.property,t("SpikeStateMachine",f("SpikeStateMachine")(M=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.init=function(){var t=i((function*(){this.animationCom=this.addComponent(s),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(S.SPIKES_CUR_COUNT,r()),this.params.set(S.SPIKES_TOTAL_COUNT,r())},a.initSateMachine=function(){this.stateMachine.set(c.SPIKES_ONE,new _(this)),this.stateMachine.set(c.SPIKES_TWO,new I(this)),this.stateMachine.set(c.SPIKES_THREE,new P(this)),this.stateMachine.set(c.SPIKES_FOUR,new o(this))},a.addAnimationEvent=function(){var t=this;this.animationCom.on(s.EventType.FINISHED,(function(){var e=t.animationCom.defaultClip.name,i=t.getParams(S.SPIKES_TOTAL_COUNT).value;(i===h.SPIKES_ONE&&e.includes("two/two")||i===h.SPIKES_TWO&&e.includes("three/three")||i===h.SPIKES_THREE&&e.includes("four/four")||i===h.SPIKES_FOUR&&e.includes("five/five"))&&t.node.getComponent(E).countToZero()}))},a.run=function(){var t=this.getParams(S.SPIKES_TOTAL_COUNT).value;switch(this.currentSate){case this.stateMachine.get(c.SPIKES_ONE):case this.stateMachine.get(c.SPIKES_TWO):case this.stateMachine.get(c.SPIKES_THREE):case this.stateMachine.get(c.SPIKES_FOUR):t===h.SPIKES_ONE?this.currentSate=this.stateMachine.get(c.SPIKES_ONE):t===h.SPIKES_TWO?this.currentSate=this.stateMachine.get(c.SPIKES_TWO):t===h.SPIKES_THREE?this.currentSate=this.stateMachine.get(c.SPIKES_THREE):t===h.SPIKES_FOUR?this.currentSate=this.stateMachine.get(c.SPIKES_FOUR):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(c.SPIKES_ONE)}},n}(u))||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesThreeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./State.ts","./SpikesSubStateMahine.ts"],(function(e){"use strict";var t,n,s,i,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKE_COUNT_ENUM},function(e){i=e.default},function(e){r=e.default}],execute:function(){n._RF.push({},"71d59Ek7UBKjpK/Ac6S0rN0","SpikesThreeStateMachine",void 0);var a="texture/spikes/spikesthree/";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,a+"zero/zero")),n.stateMachine.set(s.ONE,new i(t,a+"one/one")),n.stateMachine.set(s.TWO,new i(t,a+"two/two")),n.stateMachine.set(s.THREE,new i(t,a+"three/three")),n.stateMachine.set(s.FOUR,new i(t,a+"four/four")),n}return t(n,e),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesTwoSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./State.ts","./SpikesSubStateMahine.ts"],(function(e){"use strict";var t,n,s,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKE_COUNT_ENUM},function(e){i=e.default},function(e){o=e.default}],execute:function(){n._RF.push({},"f8f54+jwTNJnZdJDhb64obP","SpikesTwoSubStateMachine",void 0);var u="texture/spikes/spikestwo/";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).stateMachine.set(s.ZERO,new i(t,u+"zero/zero")),n.stateMachine.set(s.ONE,new i(t,u+"one/one")),n.stateMachine.set(s.TWO,new i(t,u+"two/two")),n.stateMachine.set(s.THREE,new i(t,u+"three/three")),n}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/State.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoadMgr.ts","./index3.ts"],(function(t){"use strict";var i,a,n,e,o,r,s,p,l;return{setters:[function(t){i=t.asyncToGenerator,a=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,e=t.AnimationClip,o=t.SpriteAtlas,r=t.animation,s=t.Sprite},function(t){p=t.default},function(t){l=t.sortSpriteFrame}],execute:function(){n._RF.push({},"4a63a5C4CZAQaPiq5B6A4by","State",void 0);var u=t("ANIMATION_SPEED",1/8);t("default",function(){function t(t,i,a,n){void 0===a&&(a=e.WrapMode.Normal),void 0===n&&(n=[]),this.animationClip=void 0,this.fsm=t,this.path=i,this.isLoop=a,this.evts=n,this.init()}var n=t.prototype;return n.init=function(){var t=i((function*(){var t=p.Instance.loadRes(this.path,o);this.fsm.waitList.push(t);var i=yield t;this.animationClip=new e;var n=new r.ObjectTrack;n.path=(new r.TrackPath).toComponent(s).toProperty("spriteFrame");var h=i.spriteFrames,c=[],m=0,f=l(h);for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)){var d=f[v];c.push([u*m,d]),m++}n.channel.curve.assignSorted(c),this.animationClip.addTrack(n),this.animationClip.name=this.path,this.animationClip.wrapMode=this.isLoop,this.animationClip.duration=c.length*u;for(var C,y=a(this.evts);!(C=y()).done;){var S=C.value;this.animationClip.events.push(S)}}));return function(){return t.apply(this,arguments)}}(),n.run=function(){var t,i;(null==(t=this.fsm.animationCom)||null==(i=t.defaultClip)?void 0:i.name)!==this.animationClip.name&&(this.fsm.animationCom.defaultClip=this.animationClip,this.fsm.animationCom.play())},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,r=t._decorator}],execute:function(){var c;n._RF.push({},"24e9aDpZodDSpHQTfTV5uMg","SubStateMachine",void 0);var u=r.ccclass;r.property,t("SubStateMachine",u("SubStateMachine")(c=function(){function t(t){this._currentSate=null,this.stateMachine=new Map,this.fsm=t}return e(t,[{key:"currentSate",get:function(){return this._currentSate},set:function(t){this._currentSate=t,this._currentSate.run()}}]),t}())||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts"],(function(n){"use strict";var t,e,i,o,r,a,s;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Sprite,r=n.UITransform,a=n.Component},function(n){s=n.TILE_TYPE_ENUM}],execute:function(){var c;e._RF.push({},"3f3439D7UNOP4nypbHizC8M","TileManager",void 0);var T=n("TILE_WIDTH",55),L=n("TILE_HEIGHT",55),u=i.ccclass;i.property,n("TileManager",u("TileManager")(c=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).canMove=void 0,t.canTurn=void 0,t.type=void 0,t}return t(e,n),e.prototype.init=function(n,t,e){var i=e.i,a=e.j;this.type=n,this.addComponent(o).spriteFrame=t,this.getComponent(r).setContentSize(T,L),this.node.setPosition(i*T,-a*L),n===s.WALL_COLUMN||n===s.WALL_LEFT_BOTTOM||n===s.WALL_LEFT_TOP||n===s.WALL_RIGHT_BOTTOM||n===s.WALL_RIGHT_TOP||n===s.WALL_ROW?(this.canMove=!1,this.canTurn=!1):n===s.CLIFF_CENTER||n===s.CLIFF_LEFT||n===s.CLIFF_RIGHT?(this.canMove=!1,this.canTurn=!0):n===s.FLOOR&&(this.canMove=!0,this.canTurn=!0)},e}(a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoadMgr.ts","./DataManager.ts","./index3.ts","./TileManager.ts"],(function(e){"use strict";var n,t,r,a,i,o,s,c,l,u,f;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator},function(e){r=e.cclegacy,a=e._decorator,i=e.Component,o=e.SpriteAtlas},function(e){s=e.default},function(e){c=e.default},function(e){l=e.randomTileByrange,u=e.createNewNode},function(e){f=e.TileManager}],execute:function(){var p;r._RF.push({},"f4a8f5vYSFDIKIxXbK5F6gy","TileMapManager",void 0);var g=a.ccclass;a.property,e("TileMapManager",g("TileMapManager")(p=function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var a=r.prototype;return a.start=function(){},a.init=function(){var e=t((function*(){var e=yield s.Instance.loadRes("texture/tile/tile",o),n=c.Instance.mapInfo;c.Instance.tileMgrInfo=[];for(var t=0;t<n.length;t++){var r=n[t];c.Instance.tileMgrInfo[t]=[];for(var a=0;a<r.length;a++){var i=r[a];if(null!==i.src&&null!==i.type){var p=i.src,g=i.type;1!==p&&5!==p&&9!==p||t%2!=0||a%2!=0||(p+=l(0,4));var M=u(),v="tile ("+p+")",d=e.spriteFrames[v],y=M.addComponent(f);c.Instance.tileMgrInfo[t][a]=y,y.init(g,d,{i:t,j:a}),M.setParent(this.node)}}}}));return function(){return e.apply(this,arguments)}}(),r}(i))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/TurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,u,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){u=t.DIRECTION_ENUM},function(t){i=t.default},function(t){a=t.default}],execute:function(){n._RF.push({},"eba8f+4+PJB+JhV3tkdBXEx","TurnLeftSubStateMachine",void 0);var c="texture/player/turnleft/",s="/turnleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(u.TOP,new a(e,c+"top"+s)),n.stateMachine.set(u.BOTTOM,new a(e,c+"bottom"+s)),n.stateMachine.set(u.LEFT,new a(e,c+"left"+s)),n.stateMachine.set(u.RIGHT,new a(e,c+"right"+s)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./DirectionSubStateMachine.ts","./State.ts"],(function(t){"use strict";var e,n,i,u,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){u=t.default},function(t){r=t.default}],execute:function(){n._RF.push({},"42820un5spPUYgMhvgrCNWJ","TurnRightSubStateMachine",void 0);var s="texture/player/turnright/",a="/turnright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).stateMachine.set(i.TOP,new r(e,s+"top"+a)),n.stateMachine.set(i.BOTTOM,new r(e,s+"bottom"+a)),n.stateMachine.set(i.LEFT,new r(e,s+"left"+a)),n.stateMachine.set(i.RIGHT,new r(e,s+"right"+a)),n}return e(n,t),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIBattleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./index.ts","./EventMgr.ts","./BurstMgr.ts","./DoorMgr.ts","./IronMgr.ts","./WoodenMgr.ts","./PlayerMgr.ts","./AudioMgr.ts","./DataManager.ts","./FadeMgr.ts","./ShakeManager.ts","./SmokeMgr.ts","./SpikesMgr.ts","./TileMapManager.ts","./index3.ts"],(function(e){"use strict";var n,t,s,a,i,r,o,c,l,u,p,I,d,f,y,h,v,g,E,m,M,L,k,x,_,S,N;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator},function(e){r=e.cclegacy,o=e._decorator,c=e.Node,l=e.Component},function(e){u=e.ENUM_EVENT,p=e.ENTITY_STATE_ENUM,I=e.ENITIY_TYPE_ENUM},function(e){d=e.default},function(e){f=e.default},function(e){y=e.BurstMgr},function(e){h=e.DoorMgr},function(e){v=e.IronMgr},function(e){g=e.WoodenMgr},function(e){E=e.PlayerMrg},function(e){m=e.AudioMgr},function(e){M=e.default},function(e){L=e.default},function(e){k=e.ShakeManager},function(e){x=e.SmokeMgr},function(e){_=e.SpikesMgr},function(e){S=e.TileMapManager},function(e){N=e.createNewNode}],execute:function(){var P,T,b,R,U,C,D;r._RF.push({},"69201h2HalKUrZ4h0cvBNuf","UIBattleScene",void 0);var A=o.ccclass,O=o.property;e("UIBattleScene",(P=A("UIBattleScene"),T=O(c),b=O(c),P((C=n((U=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return(n=e.call.apply(e,[this].concat(i))||this).level=void 0,n.stage=void 0,n.smokeLayer=void 0,n.fadeInit=!1,s(n,"menu",C,a(n)),s(n,"bottom",D,a(n)),n}t(n,e);var r=n.prototype;return r.start=function(){m.inst.play("sound/bg",1,!0),M.Instance.levelIndex=1,this.generateStage(),this.initLevel(),this.menu.setSiblingIndex(10),this.bottom.setSiblingIndex(11)},r.onLoad=function(){f.Instance.addEventListen(u.ENUM_NEXTLEVEL,this.nextLevelMap,this),f.Instance.addEventListen(u.ENUM_MOVE_END,this.checkArrived,this),f.Instance.addEventListen(u.ENUM_SHOW_SMOKE,this.showSmokeHandler,this),f.Instance.addEventListen(u.ENUM_RECORD_STEP,this.saveRecord,this),f.Instance.addEventListen(u.ENUM_REVOKE_STEP,this.revokeRecord,this),f.Instance.addEventListen(u.ENUM_RESTART_GAME,this.initLevel,this)},r.onDestry=function(){f.Instance.unEventListen(u.ENUM_NEXTLEVEL,this.nextLevelMap),f.Instance.unEventListen(u.ENUM_MOVE_END,this.checkArrived),f.Instance.unEventListen(u.ENUM_SHOW_SMOKE,this.showSmokeHandler),f.Instance.unEventListen(u.ENUM_RECORD_STEP,this.saveRecord),f.Instance.unEventListen(u.ENUM_REVOKE_STEP,this.revokeRecord),f.Instance.unEventListen(u.ENUM_RESTART_GAME,this.initLevel)},r.initLevel=function(){var e=i((function*(){var e;(this.fadeInit?yield L.Instance.fader.fadeIn():yield L.Instance.fader.mask(),this.clearLevelMap(),this.level=d["level"+M.Instance.levelIndex],this.level)&&(M.Instance.mapInfo=this.level.mapInfo,M.Instance.mapColumCount=(null==(e=this.level.mapInfo[0])?void 0:e.length)||0,M.Instance.mapRowCount=this.level.mapInfo.length||0);yield Promise.all([this.generateTileMap(),this.generateBurst(),this.generateEnemies(),this.generateSpikes(),this.generateDoor(),this.generateSmokeLayer(),this.generatePlayer(),this.fitPos()]),L.Instance.fader.fadeOut(),this.fadeInit=!0}));return function(){return e.apply(this,arguments)}}(),r.nextLevelMap=function(){M.Instance.levelIndex++,M.Instance.levelIndex>10&&console.log("通关了！"),this.initLevel()},r.clearLevelMap=function(){this.stage.removeAllChildren(),M.Instance.reset()},r.checkArrived=function(){var e=M.Instance.playerInfo,n=e.x,t=e.y,s=M.Instance.doorInfo,a=s.x,i=s.y,r=s.state;n===a&&t===i&&r===p.DEATH&&f.Instance.emit(u.ENUM_NEXTLEVEL)},r.showSmokeHandler=function(){var e=i((function*(e,n,t){var s=M.Instance.smokes.find((function(e){return e.state===p.DEATH}));if(s)s.x=e,s.y=n,s.direction=t,s.node.setPosition(55*e-82.5,55*-n+82.5);else{var a=N();a.setParent(this.smokeLayer);var i=a.addComponent(x);yield i.init({x:e,y:n,state:p.IDLE,type:I.SMOKE,direction:t}),M.Instance.smokes.push(i)}}));return function(n,t,s){return e.apply(this,arguments)}}(),r.generateStage=function(){var e=N();e.setParent(this.node),this.stage=e,this.stage.addComponent(k)},r.generateTileMap=function(){var e=i((function*(){var e=N();e.setParent(this.stage),console.log("tileMapNode.position",e.position);var n=e.addComponent(S);yield n.init()}));return function(){return e.apply(this,arguments)}}(),r.generatePlayer=function(){var e=i((function*(){var e=N();e.setParent(this.stage);var n=e.addComponent(E);yield n.init(this.level.player),M.Instance.playerInfo=n,f.Instance.emit(u.ENUM_PLAYER_BORN)}));return function(){return e.apply(this,arguments)}}(),r.generateEnemies=function(){var e=i((function*(){M.Instance.enemies=[];for(var e=[],n=0;n<this.level.enemies.length;n++){var t=this.level.enemies[n],s=N();s.setParent(this.stage);var a=t.type===I.WOODEN?g:v,i=s.addComponent(a);e.push(i.init(t)),M.Instance.enemies.push(i)}yield Promise.all(e)}));return function(){return e.apply(this,arguments)}}(),r.generateBurst=function(){var e=i((function*(){for(var e=[],n=0;n<this.level.bursts.length;n++){var t=this.level.bursts[n],s=N();s.setParent(this.stage);var a=s.addComponent(y);e.push(a.init(t)),M.Instance.bursts.push(a)}yield Promise.all(e)}));return function(){return e.apply(this,arguments)}}(),r.generateSpikes=function(){var e=i((function*(){for(var e=[],n=0;n<this.level.spikes.length;n++){var t=this.level.spikes[n],s=N();s.setParent(this.stage);var a=s.addComponent(_);e.push(a.init(t)),M.Instance.spikes.push(a)}yield Promise.all(e)}));return function(){return e.apply(this,arguments)}}(),r.generateSmokeLayer=function(){var e=N();this.smokeLayer=e,e.setParent(this.stage)},r.generateDoor=function(){var e=i((function*(){var e=N();e.setParent(this.stage);var n=e.addComponent(h);yield n.init(this.level.door),M.Instance.doorInfo=n}));return function(){return e.apply(this,arguments)}}(),r.fitPos=function(){var e=M.Instance,n=e.mapColumCount,t=55*e.mapRowCount/2,s=55*n/2+100;this.stage.getComponent(k).stop(),this.stage.setPosition(-t,s)},r.saveRecord=function(){var e={player:{x:M.Instance.playerInfo.x,y:M.Instance.playerInfo.y,direction:M.Instance.playerInfo.direction,state:M.Instance.playerInfo.state===p.IDLE||M.Instance.playerInfo.state===p.ATTACK||M.Instance.playerInfo.state===p.DEATH?M.Instance.playerInfo.state:p.IDLE,type:M.Instance.playerInfo._type},door:{x:M.Instance.doorInfo.x,y:M.Instance.doorInfo.y,direction:M.Instance.doorInfo.direction,state:M.Instance.doorInfo.state,type:M.Instance.doorInfo._type},enemies:M.Instance.enemies.map((function(e){return{x:e.x,y:e.y,type:e.type,state:e.state,direction:e.direction}})),bursts:M.Instance.bursts.map((function(e){return{x:e.x,y:e.y,type:e.type,state:e.state,direction:e.direction}})),spikes:M.Instance.spikes.map((function(e){return{x:e.x,y:e.y,count:e.count,type:e.type}}))};M.Instance.records.push(e)},r.revokeRecord=function(){var e=M.Instance.records.pop();if(e){M.Instance.playerInfo.x=M.Instance.playerInfo.targetX=e.player.x,M.Instance.playerInfo.y=M.Instance.playerInfo.targetY=e.player.y,M.Instance.playerInfo.direction=e.player.direction,M.Instance.playerInfo.state=e.player.state,M.Instance.playerInfo.type=e.player.type,M.Instance.doorInfo.x=e.door.x,M.Instance.doorInfo.y=e.door.y,M.Instance.doorInfo.direction=e.door.direction,M.Instance.doorInfo.state=e.door.state,M.Instance.doorInfo.type=e.door.type;for(var n=0;n<M.Instance.enemies.length;n++){var t=e.enemies[n];M.Instance.enemies[n].x=t.x,M.Instance.enemies[n].y=t.y,M.Instance.enemies[n].direction=t.direction,M.Instance.enemies[n].state=t.state,M.Instance.enemies[n].type=t.type}for(var s=0;s<M.Instance.bursts.length;s++){var a=e.enemies[s];M.Instance.bursts[s].x=a.x,M.Instance.bursts[s].y=a.y,M.Instance.bursts[s].direction=a.direction,M.Instance.bursts[s].state=a.state,M.Instance.bursts[s].type=a.type}for(var i=0;i<M.Instance.spikes.length;i++){var r=e.spikes[i];M.Instance.spikes[i].x=r.x,M.Instance.spikes[i].y=r.y,M.Instance.spikes[i].count=r.count,M.Instance.spikes[i].type=r.type}}},n}(l)).prototype,"menu",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(U.prototype,"bottom",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=U))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/UILoadingScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts"],(function(e){"use strict";var n,r,o,t,i,a,c,u,s,l,p,d,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,i=e.asyncToGenerator},function(e){a=e.cclegacy,c=e._decorator,u=e.ProgressBar,s=e.director,l=e.resources,p=e.Component,d=e.AudioClip},function(e){f=e.SCENE_ENUM}],execute:function(){var g,y,L,h,v;a._RF.push({},"e8b46POwE1LyISAO6yBmJXw","UILoadingScene",void 0);var b=c.ccclass,S=c.property;e("LoadingManager",(g=b("LoadingManager"),y=S(u),g((v=n((h=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"bar",v,t(n)),n}r(n,e);var a=n.prototype;return a.start=function(){},a.onLoad=function(){this.preLoad()},a.preLoad=function(){var e=this;s.preloadScene(f.BATTLE),l.preloadDir("texture",(function(n,r){e.bar.progress=n/r}),i((function*(n){if(n)return yield new Promise((function(e){setTimeout(e,1e3)})),void e.preLoad();s.loadScene(f.BATTLE)})))},a.loadSoundRes=function(){var e=i((function*(){return new Promise((function(e){l.preloadDir("sound",d,(function(){console.log("音频资源预加载完成"),e(null)}))}))}));return function(){return e.apply(this,arguments)}}(),n}(p)).prototype,"bar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=h))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIStartScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts"],(function(t){"use strict";var n,e,r,o,c,i,u,a;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){r=t.cclegacy,o=t._decorator,c=t.Component,i=t.director,u=t.Node},function(t){a=t.SCENE_ENUM}],execute:function(){var s;r._RF.push({},"07b26VBSV1N4oGZDR2DXM97","UIStartScene",void 0);var p=o.ccclass;o.property,t("UIStartScene",p("UIStartScene")(s=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var o=r.prototype;return o.onLoad=function(){var t=e((function*(){i.preloadScene(a.LOADING),this.node.once(u.EventType.TOUCH_START,this.handlerStart,this)}));return function(){return t.apply(this,arguments)}}(),o.handlerStart=function(){var t=e((function*(){i.loadScene(a.LOADING)}));return function(){return t.apply(this,arguments)}}(),o.onDestry=function(){},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EnemyMgr.ts","./EventMgr.ts","./DataManager.ts","./WoodenStateMachine.ts"],(function(t){"use strict";var n,e,o,i,s,a,c,r,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator},function(t){o=t.cclegacy,i=t._decorator},function(t){s=t.ENTITY_STATE_ENUM,a=t.ENUM_EVENT},function(t){c=t.EnemyMgr},function(t){r=t.default},function(t){u=t.default},function(t){h=t.WoodenStateMachine}],execute:function(){var E;o._RF.push({},"12a30cxxS9GlI+ZJ4RLAeQm","WoodenMgr",void 0);t("MOVE_SPEED",.1);var f=i.ccclass;i.property,t("WoodenMgr",f("WoodenMgr")(E=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.init=function(){var n=e((function*(n){this.fsm=this.addComponent(h),yield this.fsm.init(),t.prototype.init.call(this,n)}));return function(t){return n.apply(this,arguments)}}(),i.checkAttack=function(){if(this.state!==s.DEATH&&u.Instance.playerInfo){var t=u.Instance.playerInfo,n=t.x,e=t.y,o=t.state,i=Math.abs(this.x-n),c=Math.abs(this.y-e);o!=s.DEATH&&o!=s.AIRDEATH&&(this.x===n&&c<=1||this.y===e&&i<=1?(this.state=s.ATTACK,r.Instance.emit(a.ENUM_PLAYER_DEATH,s.DEATH)):this.state=s.IDLE)}},i.onLoad=function(){t.prototype.onLoad.call(this),r.Instance.addEventListen(a.ENUM_MOVE_END,this.checkAttack,this)},i.onDestry=function(){t.prototype.onDestry.call(this),r.Instance.unEventListen(a.ENUM_MOVE_END,this.checkAttack)},o}(c))||E);o._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./EnitiyMgr.ts","./SateMachine.ts","./AudioMgr.ts","./AttackWoondenSubStateMachine.ts","./DeathWoodenSubStateMachine.ts","./IdleWoodenSubStateMachine.ts"],(function(t){"use strict";var e,n,i,a,s,c,o,h,r,u,M,d,f,m,l;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator},function(t){i=t.cclegacy,a=t._decorator,s=t.Animation},function(t){c=t.PARAMS_NAME_TYPE,o=t.ENTITY_STATE_ENUM},function(t){h=t.EnitiyMgr},function(t){r=t.getParamsInitTrigger,u=t.getParamsInitNumber,M=t.StateMachine},function(t){d=t.AudioMgr},function(t){f=t.default},function(t){m=t.default},function(t){l=t.default}],execute:function(){var p;i._RF.push({},"f3faaZiC5hBkauDHBlvotpN","WoodenStateMachine",void 0);var S=a.ccclass;a.property,t("WoodenStateMachine",S("WoodenStateMachine")(p=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var a=i.prototype;return a.init=function(){var t=n((function*(){this.animationCom=this.addComponent(s),this.initParams(),this.initSateMachine(),this.addAnimationEvent(),yield Promise.all(this.waitList)}));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(c.IDLE,r()),this.params.set(c.ATTACK,r()),this.params.set(c.DEATH,r()),this.params.set(c.DIRECTION,u())},a.initSateMachine=function(){this.stateMachine.set(c.IDLE,new l(this)),this.stateMachine.set(c.ATTACK,new f(this)),this.stateMachine.set(c.DEATH,new m(this))},a.addAnimationEvent=function(){var t=this;this.animationCom.on(s.EventType.FINISHED,(function(){var e=t.animationCom.defaultClip.name;["attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(h).state=o.IDLE)}))},a.run=function(){switch(this.currentSate){case this.stateMachine.get(c.TURNLEFT):case this.stateMachine.get(c.BLOCKFRONT):case this.stateMachine.get(c.BLOCKTURNLEFT):case this.stateMachine.get(c.IDLE):this.params.get(c.IDLE).value?this.currentSate=this.stateMachine.get(c.IDLE):this.params.get(c.ATTACK).value?this.currentSate=this.stateMachine.get(c.ATTACK):this.params.get(c.DEATH).value?(this.currentSate=this.stateMachine.get(c.DEATH),d.inst.playOneShot("sound/enemyDeath")):this.currentSate=this.currentSate;break;default:this.currentSate=this.stateMachine.get(c.IDLE)}},i}(M))||p);i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});