{"version":3,"sources":["file:///Users/super_javan/cocoscreator/CrampedRoomOfDeathDungeon/assets/Scripts/TileMap/TileManager.ts"],"names":["Component","_decorator","Sprite","UITransform","TILE_TYPE_ENUM","TILE_WIDTH","TILE_HEIGHT","ccclass","property","TileManager","canMove","canTurn","type","init","sp","i","j","sprite","addComponent","spriteFrame","transfrom","getComponent","setContentSize","node","setPosition","WALL_COLUMN","WALL_LEFT_BOTTOM","WALL_LEFT_TOP","WALL_RIGHT_BOTTOM","WALL_RIGHT_TOP","WALL_ROW","CLIFF_CENTER","CLIFF_LEFT","CLIFF_RIGHT","FLOOR"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;AAA0CC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;;AAC7DC,MAAAA,c,iBAAAA,c;;;;;;;;;4BAGIC,U,GAAa,E;;6BACbC,W,GAAc,E;;OAErB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;6BAEjBQ,W,WADZF,OAAO,CAAC,aAAD,C,gBAAR,MACaE,WADb,SACiCT,SADjC,CAC2C;AAAA;AAAA;AAAA,eACvCU,OADuC;AAAA,eAEvCC,OAFuC;AAAA,eAGvCC,IAHuC;AAAA;;AAKvCC,QAAAA,IAAI,CAACD,IAAD,EAAuBE,EAAvB,EAAwC;AAAEC,UAAAA,CAAF;AAAKC,UAAAA;AAAL,SAAxC,EAAuD;AACvD,eAAKJ,IAAL,GAAYA,IAAZ;AACA,gBAAMK,MAAM,GAAG,KAAKC,YAAL,CAAkBhB,MAAlB,CAAf;AACAe,UAAAA,MAAM,CAACE,WAAP,GAAqBL,EAArB;AAEA,gBAAMM,SAAS,GAAG,KAAKC,YAAL,CAAkBlB,WAAlB,CAAlB;AACAiB,UAAAA,SAAS,CAACE,cAAV,CAAyBjB,UAAzB,EAAqCC,WAArC;AAEA,eAAKiB,IAAL,CAAUC,WAAV,CAAsBT,CAAC,GAAGV,UAA1B,EAAsC,CAACW,CAAD,GAAKV,WAA3C;;AAEA,cAAIM,IAAI,KAAK;AAAA;AAAA,gDAAea,WAAxB,IAAuCb,IAAI,KAAK;AAAA;AAAA,gDAAec,gBAA/D,IAAmFd,IAAI,KAAK;AAAA;AAAA,gDAAee,aAA3G,IACAf,IAAI,KAAK;AAAA;AAAA,gDAAegB,iBADxB,IAC6ChB,IAAI,KAAK;AAAA;AAAA,gDAAeiB,cADrE,IACuFjB,IAAI,KAAK;AAAA;AAAA,gDAAekB,QADnH,EAC6H;AACzH,iBAAKpB,OAAL,GAAe,KAAf;AACA,iBAAKC,OAAL,GAAe,KAAf;AACH,WAJD,MAIO,IAAIC,IAAI,KAAK;AAAA;AAAA,gDAAemB,YAAxB,IAAwCnB,IAAI,KAAK;AAAA;AAAA,gDAAeoB,UAAhE,IAA8EpB,IAAI,KAAK;AAAA;AAAA,gDAAeqB,WAA1G,EAAuH;AAC1H,iBAAKvB,OAAL,GAAe,KAAf;AACA,iBAAKC,OAAL,GAAe,IAAf;AACH,WAHM,MAGA,IAAIC,IAAI,KAAK;AAAA;AAAA,gDAAesB,KAA5B,EAAmC;AACtC,iBAAKxB,OAAL,GAAe,IAAf;AACA,iBAAKC,OAAL,GAAe,IAAf;AACH;AACJ;;AA1BsC,O","sourcesContent":["import { Component, _decorator, Node, resources, SpriteFrame, Sprite, UITransform, Layers, SpriteAtlas } from \"cc\";\nimport { TILE_TYPE_ENUM } from \"../../Enum\";\nimport levels from \"../../Levels\";\n\nexport const TILE_WIDTH = 55\nexport const TILE_HEIGHT = 55\n\nconst { ccclass, property } = _decorator;\n@ccclass('TileManager')\nexport class TileManager extends Component {\n    canMove: boolean\n    canTurn: boolean\n    type: TILE_TYPE_ENUM\n\n    init(type: TILE_TYPE_ENUM, sp: SpriteFrame, { i, j }: any) {\n        this.type = type\n        const sprite = this.addComponent(Sprite)\n        sprite.spriteFrame = sp\n\n        const transfrom = this.getComponent(UITransform)\n        transfrom.setContentSize(TILE_WIDTH, TILE_HEIGHT)\n\n        this.node.setPosition(i * TILE_WIDTH, -j * TILE_HEIGHT)\n\n        if (type === TILE_TYPE_ENUM.WALL_COLUMN || type === TILE_TYPE_ENUM.WALL_LEFT_BOTTOM || type === TILE_TYPE_ENUM.WALL_LEFT_TOP ||\n            type === TILE_TYPE_ENUM.WALL_RIGHT_BOTTOM || type === TILE_TYPE_ENUM.WALL_RIGHT_TOP || type === TILE_TYPE_ENUM.WALL_ROW) {\n            this.canMove = false\n            this.canTurn = false\n        } else if (type === TILE_TYPE_ENUM.CLIFF_CENTER || type === TILE_TYPE_ENUM.CLIFF_LEFT || type === TILE_TYPE_ENUM.CLIFF_RIGHT) {\n            this.canMove = false\n            this.canTurn = true\n        } else if (type === TILE_TYPE_ENUM.FLOOR) {\n            this.canMove = true\n            this.canTurn = true\n        }\n    }\n}"]}