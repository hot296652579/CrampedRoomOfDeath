{"version":3,"sources":["file:///Users/super_javan/cocoscreator/CrampedRoomOfDeathDungeon/assets/Scripts/Runtime/FadeMgr.ts"],"names":["FadeMgr","director","RenderRoot2D","Singleton","DEFAULT_FADE_DURATION","DrawManager","createNewNode","_fader","Instance","getInstance","fader","root","addComponent","fadeNode","setParent","init","addPersistRootNode","fadeIn","duration","fadeOut"],"mappings":";;;qKAOqBA,O;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPZC,MAAAA,Q,OAAAA,Q;AAAgBC,MAAAA,Y,OAAAA,Y;;AAGlBC,MAAAA,S;;AACEC,MAAAA,qB,iBAAAA,qB;AAAuBC,MAAAA,W,iBAAAA,W;;AACvBC,MAAAA,a,iBAAAA,a;;;;;;;;;yBAEYN,O,GAAN,MAAMA,OAAN;AAAA;AAAA,kCAAgC;AAAA;AAAA;AAAA,eAEnCO,MAFmC,GAEb,IAFa;AAAA;;AAGxB,mBAARC,QAAQ,GAAG;AAClB;AACA,iBAAO,MAAMC,WAAN,EAAP;AACH;;AAEQ,YAALC,KAAK,GAAG;AACR,cAAI,KAAKH,MAAT,EAAiB;AACb,mBAAO,KAAKA,MAAZ;AACH,WAFD,MAGK;AACD,gBAAMI,IAAI,GAAG;AAAA;AAAA,iDAAb;AACAA,YAAAA,IAAI,CAACC,YAAL,CAAkBV,YAAlB;AAEA,gBAAMW,QAAQ,GAAG;AAAA;AAAA,iDAAjB;AACAA,YAAAA,QAAQ,CAACC,SAAT,CAAmBH,IAAnB;AACA,iBAAKJ,MAAL,GAAcM,QAAQ,CAACD,YAAT;AAAA;AAAA,2CAAd;;AACA,iBAAKL,MAAL,CAAYQ,IAAZ;;AAEAd,YAAAA,QAAQ,CAACe,kBAAT,CAA4BL,IAA5B;AACA,mBAAO,KAAKJ,MAAZ;AACH;AACJ;;AAEDU,QAAAA,MAAM,CAACC,QAAD,EAA2C;AAAA,cAA1CA,QAA0C;AAA1CA,YAAAA,QAA0C;AAAA;AAAA;AAAA;;AAC7C,iBAAO,KAAKX,MAAL,CAAYU,MAAZ,CAAmBC,QAAnB,CAAP;AACH;;AAEDC,QAAAA,OAAO,CAACD,QAAD,EAA2C;AAAA,cAA1CA,QAA0C;AAA1CA,YAAAA,QAA0C;AAAA;AAAA;AAAA;;AAC9C,iBAAO,KAAKX,MAAL,CAAYY,OAAZ,CAAoBD,QAApB,CAAP;AACH;;AAhC0C,O","sourcesContent":["import { director, game, RenderRoot2D } from \"cc\"\nimport { IEnitiy, ILevel, ITitle } from \"../../Levels\"\nimport { EnemyMgr } from \"../Base/EnemyMgr\"\nimport Singleton from \"../Base/Singleton\"\nimport { DEFAULT_FADE_DURATION, DrawManager } from \"../UI/DrawManager\"\nimport { createNewNode } from \"../Utils\"\n\nexport default class FadeMgr extends Singleton {\n\n    private _fader: DrawManager = null\n    static get Instance() {\n        // super()\n        return super.getInstance<FadeMgr>()\n    }\n\n    get fader() {\n        if (this._fader) {\n            return this._fader\n        }\n        else {\n            const root = createNewNode()\n            root.addComponent(RenderRoot2D)\n\n            const fadeNode = createNewNode()\n            fadeNode.setParent(root)\n            this._fader = fadeNode.addComponent(DrawManager)\n            this._fader.init()\n\n            director.addPersistRootNode(root)\n            return this._fader\n        }\n    }\n\n    fadeIn(duration: number = DEFAULT_FADE_DURATION) {\n        return this._fader.fadeIn(duration)\n    }\n\n    fadeOut(duration: number = DEFAULT_FADE_DURATION) {\n        return this._fader.fadeOut(duration)\n    }\n}"]}