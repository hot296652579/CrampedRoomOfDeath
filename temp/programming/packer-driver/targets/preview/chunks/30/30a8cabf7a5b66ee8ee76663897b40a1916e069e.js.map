{"version":3,"sources":["file:///Users/super_javan/cocoscreator/CrampedRoomOfDeathDungeon/assets/Scripts/Smoke/SmokeMgr.ts"],"names":["_decorator","ENTITY_STATE_ENUM","EnitiyMgr","DataManager","MOVE_SPEED","ccclass","property","SmokeMgr","init","params","fsm","addComponent","DoorStateMachine","onOpen","Instance","enemies","every","enemy","state","DEATH","onLoad","onDestry"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAoBA,MAAAA,U,OAAAA,U;;AAC6CC,MAAAA,iB,iBAAAA,iB;;AAExDC,MAAAA,S,iBAAAA,S;;AAGFC,MAAAA,W;;;;;;;;;4BAEMC,U,GAAa,IAAI,E;;OAExB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;0BAEjBO,Q,WADZF,OAAO,CAAC,UAAD,C,gBAAR,MACaE,QADb;AAAA;AAAA,kCACwC;AAE9BC,QAAAA,IAAI,CAACC,MAAD,EAAkB;AAAA;AAAA;;AAAA;AACxB,YAAA,KAAI,CAACC,GAAL,GAAW,KAAI,CAACC,YAAL,CAAkBC,gBAAlB,CAAX;AACA,kBAAM,KAAI,CAACF,GAAL,CAASF,IAAT,EAAN;;AAEA,6CAAWC,MAAX;AAJwB;AAK3B;;AAEDI,QAAAA,MAAM,GAAG;AACL,cAAI;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,OAArB,CAA6BC,KAA7B,CAAmCC,KAAK,IAAIA,KAAK,CAACC,KAAN,KAAgB;AAAA;AAAA,sDAAkBC,KAA9E,KAAwF,KAAKD,KAAL,IAAc;AAAA;AAAA,sDAAkBC,KAA5H,EAAmI;AAC/H,iBAAKD,KAAL,GAAa;AAAA;AAAA,wDAAkBC,KAA/B;AACH;AACJ;;AAEDC,QAAAA,MAAM,GAAG,CACR;;AAEDC,QAAAA,QAAQ,GAAG,CACV;;AAnBmC,O","sourcesContent":["import { Component, _decorator, Node, Sprite, UITransform, Animation, SpriteAtlas, AnimationClip, animation, SpriteFrame, Texture2D, math, TiledUserNodeData } from \"cc\";\nimport { DIRECTION_ENUM, DIRECTION_ORDER_ENUM, ENITIY_TYPE_ENUM, ENTITY_STATE_ENUM, ENUM_EVENT, ENUM_BOTTOM_CONTROLLER, PARAMS_NAME_TYPE } from \"../../Enum\";\nimport { IEnitiy } from \"../../Levels\";\nimport { EnitiyMgr } from \"../Base/EnitiyMgr\";\nimport EventMgr from \"../Base/EventMgr\";\nimport { PlayerStateMachine } from \"../Player/PlayerStateMachine\";\nimport DataManager from \"../Runtime/DataManager\";\n\nexport const MOVE_SPEED = 1 / 10\n\nconst { ccclass, property } = _decorator;\n@ccclass('SmokeMgr')\nexport class SmokeMgr extends EnitiyMgr {\n\n    async init(params: IEnitiy) {\n        this.fsm = this.addComponent(DoorStateMachine)\n        await this.fsm.init()\n\n        super.init(params)\n    }\n\n    onOpen() {\n        if (DataManager.Instance.enemies.every(enemy => enemy.state === ENTITY_STATE_ENUM.DEATH) && this.state != ENTITY_STATE_ENUM.DEATH) {\n            this.state = ENTITY_STATE_ENUM.DEATH\n        }\n    }\n\n    onLoad() {\n    }\n\n    onDestry() {\n    }\n\n\n}"]}